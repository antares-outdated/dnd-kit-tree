{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { Children, useContext, useEffect, useState, useRef } from 'react';\nimport { normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { ThemeContext } from '../../contexts';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Keyboard } from '../Keyboard';\nimport { Stack } from '../Stack';\n\nvar Carousel = function Carousel(_ref) {\n  var initialChild = _ref.initialChild,\n      onChild = _ref.onChild,\n      play = _ref.play,\n      children = _ref.children,\n      controls = _ref.controls,\n      fill = _ref.fill,\n      _onFocus = _ref.onFocus,\n      _onBlur = _ref.onBlur,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"initialChild\", \"onChild\", \"play\", \"children\", \"controls\", \"fill\", \"onFocus\", \"onBlur\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var timerRef = useRef();\n\n  var _useState2 = useState({\n    activeIndex: initialChild\n  }),\n      indexes = _useState2[0],\n      setIndexes = _useState2[1];\n\n  var activeIndex = indexes.activeIndex,\n      priorActiveIndex = indexes.priorActiveIndex;\n  var lastIndex = Children.count(children) - 1;\n  useEffect(function () {\n    if (play) {\n      var timer = setInterval(function () {\n        if (activeIndex < lastIndex) {\n          setIndexes({\n            activeIndex: activeIndex + 1,\n            priorActiveIndex: activeIndex\n          });\n        } else {\n          setIndexes({\n            activeIndex: 0,\n            priorActiveIndex: activeIndex\n          });\n        }\n      }, play);\n      timerRef.current = timer;\n      return function () {\n        clearTimeout(timer);\n      };\n    }\n\n    return function () {};\n  }, [activeIndex, play, children, lastIndex]);\n  useEffect(function () {\n    if (onChild) onChild(activeIndex);\n    return function () {}; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeIndex]);\n\n  var onRight = function onRight() {\n    if (activeIndex >= lastIndex) {\n      return;\n    }\n\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex + 1,\n      priorActiveIndex: activeIndex\n    });\n  };\n\n  var onLeft = function onLeft() {\n    if (activeIndex <= 0) {\n      return;\n    }\n\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex - 1,\n      priorActiveIndex: activeIndex\n    });\n  };\n\n  var onSelect = function onSelect(index) {\n    return function () {\n      clearInterval(timerRef.current);\n      setIndexes({\n        activeIndex: index,\n        priorActiveIndex: activeIndex\n      });\n    };\n  };\n\n  var showArrows = controls && controls !== 'selectors';\n  var showSelectors = controls && controls !== 'arrows';\n  var CurrentIcon = theme.carousel.icons.current;\n  var iconColor = normalizeColor(theme.carousel.icons.color || 'control', theme);\n  var selectors = [];\n  var wrappedChildren = Children.map(children, function (child, index) {\n    selectors.push( /*#__PURE__*/React.createElement(Button // eslint-disable-next-line react/no-array-index-key\n    , {\n      key: index,\n      icon: /*#__PURE__*/React.createElement(CurrentIcon, {\n        color: activeIndex === index ? iconColor : undefined\n      }),\n      onClick: onSelect(index)\n    }));\n    var animation;\n\n    if (index === activeIndex) {\n      if (priorActiveIndex !== undefined) {\n        animation = {\n          type: priorActiveIndex < activeIndex ? 'slideLeft' : 'slideRight',\n          size: 'xlarge',\n          duration: theme.carousel.animation.duration\n        };\n      }\n    } else if (index === priorActiveIndex) {\n      animation = {\n        type: 'fadeOut',\n        duration: theme.carousel.animation.duration\n      };\n    } else {\n      animation = {\n        type: 'fadeOut',\n        duration: 0\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(Box, {\n      fill: fill,\n      overflow: \"hidden\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      fill: fill,\n      animation: animation\n    }, child));\n  });\n  var NextIcon = theme.carousel.icons.next;\n  var PreviousIcon = theme.carousel.icons.previous;\n  var nextIconDisabled = activeIndex >= lastIndex;\n  var previousIconDisabled = activeIndex <= 0;\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onLeft: onLeft,\n    onRight: onRight\n  }, /*#__PURE__*/React.createElement(Stack, _extends({\n    guidingChild: activeIndex,\n    fill: fill\n  }, rest), wrappedChildren, /*#__PURE__*/React.createElement(Box, {\n    tabIndex: \"0\",\n    focus: focus,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (_onBlur) _onBlur(event);\n    },\n    fill: true,\n    direction: \"row\",\n    justify: \"between\"\n  }, showArrows && /*#__PURE__*/React.createElement(Button, {\n    fill: \"vertical\",\n    icon: /*#__PURE__*/React.createElement(PreviousIcon, {\n      color: normalizeColor(previousIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    plain: true,\n    disabled: previousIconDisabled,\n    onClick: onLeft,\n    hoverIndicator: true\n  }), showSelectors && /*#__PURE__*/React.createElement(Box, {\n    justify: \"end\",\n    fill: !showArrows && 'horizontal'\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    justify: \"center\"\n  }, selectors)), showArrows && /*#__PURE__*/React.createElement(Button, {\n    fill: \"vertical\",\n    icon: /*#__PURE__*/React.createElement(NextIcon, {\n      color: normalizeColor(nextIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    plain: true,\n    disabled: nextIconDisabled,\n    onClick: onRight,\n    hoverIndicator: true\n  }))));\n};\n\nCarousel.defaultProps = {\n  initialChild: 0,\n  controls: true\n};\nObject.setPrototypeOf(Carousel.defaultProps, defaultProps);\nCarousel.displayName = 'Carousel';\nvar CarouselDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CarouselDoc = require('./doc').doc(Carousel);\n}\n\nvar CarouselWrapper = CarouselDoc || Carousel;\nexport { CarouselWrapper as Carousel };","map":{"version":3,"sources":["C:/Users/antaresofficial/Desktop/tree/node_modules/grommet/es6/components/Carousel/Carousel.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","Children","useContext","useEffect","useState","useRef","normalizeColor","defaultProps","ThemeContext","Box","Button","Keyboard","Stack","Carousel","_ref","initialChild","onChild","play","children","controls","fill","_onFocus","onFocus","_onBlur","onBlur","rest","theme","_useState","focus","setFocus","timerRef","_useState2","activeIndex","indexes","setIndexes","priorActiveIndex","lastIndex","count","timer","setInterval","current","clearTimeout","onRight","clearInterval","onLeft","onSelect","index","showArrows","showSelectors","CurrentIcon","carousel","icons","iconColor","color","selectors","wrappedChildren","map","child","push","createElement","icon","undefined","onClick","animation","type","size","duration","overflow","NextIcon","next","PreviousIcon","previous","nextIconDisabled","previousIconDisabled","guidingChild","tabIndex","event","direction","justify","disabled","plain","hoverIndicator","setPrototypeOf","displayName","CarouselDoc","process","env","NODE_ENV","require","doc","CarouselWrapper"],"mappings":"AAAA,SAASA,QAAT,GAAoB;AAAEA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,UAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,WAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,YAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,UAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,WAAOL,MAAP;AAAgB,GAA5P;;AAA8P,SAAOH,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBP,SAArB,CAAP;AAAyC;;AAE7T,SAASQ,6BAAT,CAAuCN,MAAvC,EAA+CO,QAA/C,EAAyD;AAAE,MAAIP,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,MAAIJ,MAAM,GAAG,EAAb;AAAiB,MAAIY,UAAU,GAAGd,MAAM,CAACe,IAAP,CAAYT,MAAZ,CAAjB;AAAsC,MAAIC,GAAJ,EAASJ,CAAT;;AAAY,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGW,UAAU,CAACT,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;AAAEI,IAAAA,GAAG,GAAGO,UAAU,CAACX,CAAD,CAAhB;AAAqB,QAAIU,QAAQ,CAACG,OAAT,CAAiBT,GAAjB,KAAyB,CAA7B,EAAgC;AAAUL,IAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;;AAAC,SAAOL,MAAP;AAAgB;;AAEnT,OAAOe,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,EAAiDC,QAAjD,EAA2DC,MAA3D,QAAyE,OAAzE;AACA,SAASC,cAAT,QAA+B,aAA/B;AACA,SAASC,YAAT,QAA6B,qBAA7B;AACA,SAASC,YAAT,QAA6B,gBAA7B;AACA,SAASC,GAAT,QAAoB,QAApB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,KAAT,QAAsB,UAAtB;;AAEA,IAAIC,QAAQ,GAAG,SAASA,QAAT,CAAkBC,IAAlB,EAAwB;AACrC,MAAIC,YAAY,GAAGD,IAAI,CAACC,YAAxB;AAAA,MACIC,OAAO,GAAGF,IAAI,CAACE,OADnB;AAAA,MAEIC,IAAI,GAAGH,IAAI,CAACG,IAFhB;AAAA,MAGIC,QAAQ,GAAGJ,IAAI,CAACI,QAHpB;AAAA,MAIIC,QAAQ,GAAGL,IAAI,CAACK,QAJpB;AAAA,MAKIC,IAAI,GAAGN,IAAI,CAACM,IALhB;AAAA,MAMIC,QAAQ,GAAGP,IAAI,CAACQ,OANpB;AAAA,MAOIC,OAAO,GAAGT,IAAI,CAACU,MAPnB;AAAA,MAQIC,IAAI,GAAG9B,6BAA6B,CAACmB,IAAD,EAAO,CAAC,cAAD,EAAiB,SAAjB,EAA4B,MAA5B,EAAoC,UAApC,EAAgD,UAAhD,EAA4D,MAA5D,EAAoE,SAApE,EAA+E,QAA/E,CAAP,CARxC;;AAUA,MAAIY,KAAK,GAAGxB,UAAU,CAACM,YAAD,CAAV,IAA4BD,YAAY,CAACmB,KAArD;;AAEA,MAAIC,SAAS,GAAGvB,QAAQ,EAAxB;AAAA,MACIwB,KAAK,GAAGD,SAAS,CAAC,CAAD,CADrB;AAAA,MAEIE,QAAQ,GAAGF,SAAS,CAAC,CAAD,CAFxB;;AAIA,MAAIG,QAAQ,GAAGzB,MAAM,EAArB;;AAEA,MAAI0B,UAAU,GAAG3B,QAAQ,CAAC;AACxB4B,IAAAA,WAAW,EAAEjB;AADW,GAAD,CAAzB;AAAA,MAGIkB,OAAO,GAAGF,UAAU,CAAC,CAAD,CAHxB;AAAA,MAIIG,UAAU,GAAGH,UAAU,CAAC,CAAD,CAJ3B;;AAMA,MAAIC,WAAW,GAAGC,OAAO,CAACD,WAA1B;AAAA,MACIG,gBAAgB,GAAGF,OAAO,CAACE,gBAD/B;AAEA,MAAIC,SAAS,GAAGnC,QAAQ,CAACoC,KAAT,CAAenB,QAAf,IAA2B,CAA3C;AACAf,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAIc,IAAJ,EAAU;AACR,UAAIqB,KAAK,GAAGC,WAAW,CAAC,YAAY;AAClC,YAAIP,WAAW,GAAGI,SAAlB,EAA6B;AAC3BF,UAAAA,UAAU,CAAC;AACTF,YAAAA,WAAW,EAAEA,WAAW,GAAG,CADlB;AAETG,YAAAA,gBAAgB,EAAEH;AAFT,WAAD,CAAV;AAID,SALD,MAKO;AACLE,UAAAA,UAAU,CAAC;AACTF,YAAAA,WAAW,EAAE,CADJ;AAETG,YAAAA,gBAAgB,EAAEH;AAFT,WAAD,CAAV;AAID;AACF,OAZsB,EAYpBf,IAZoB,CAAvB;AAaAa,MAAAA,QAAQ,CAACU,OAAT,GAAmBF,KAAnB;AACA,aAAO,YAAY;AACjBG,QAAAA,YAAY,CAACH,KAAD,CAAZ;AACD,OAFD;AAGD;;AAED,WAAO,YAAY,CAAE,CAArB;AACD,GAtBQ,EAsBN,CAACN,WAAD,EAAcf,IAAd,EAAoBC,QAApB,EAA8BkB,SAA9B,CAtBM,CAAT;AAuBAjC,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAIa,OAAJ,EAAaA,OAAO,CAACgB,WAAD,CAAP;AACb,WAAO,YAAY,CAAE,CAArB,CAFoB,CAEG;AACxB,GAHQ,EAGN,CAACA,WAAD,CAHM,CAAT;;AAKA,MAAIU,OAAO,GAAG,SAASA,OAAT,GAAmB;AAC/B,QAAIV,WAAW,IAAII,SAAnB,EAA8B;AAC5B;AACD;;AAEDO,IAAAA,aAAa,CAACb,QAAQ,CAACU,OAAV,CAAb;AACAN,IAAAA,UAAU,CAAC;AACTF,MAAAA,WAAW,EAAEA,WAAW,GAAG,CADlB;AAETG,MAAAA,gBAAgB,EAAEH;AAFT,KAAD,CAAV;AAID,GAVD;;AAYA,MAAIY,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7B,QAAIZ,WAAW,IAAI,CAAnB,EAAsB;AACpB;AACD;;AAEDW,IAAAA,aAAa,CAACb,QAAQ,CAACU,OAAV,CAAb;AACAN,IAAAA,UAAU,CAAC;AACTF,MAAAA,WAAW,EAAEA,WAAW,GAAG,CADlB;AAETG,MAAAA,gBAAgB,EAAEH;AAFT,KAAD,CAAV;AAID,GAVD;;AAYA,MAAIa,QAAQ,GAAG,SAASA,QAAT,CAAkBC,KAAlB,EAAyB;AACtC,WAAO,YAAY;AACjBH,MAAAA,aAAa,CAACb,QAAQ,CAACU,OAAV,CAAb;AACAN,MAAAA,UAAU,CAAC;AACTF,QAAAA,WAAW,EAAEc,KADJ;AAETX,QAAAA,gBAAgB,EAAEH;AAFT,OAAD,CAAV;AAID,KAND;AAOD,GARD;;AAUA,MAAIe,UAAU,GAAG5B,QAAQ,IAAIA,QAAQ,KAAK,WAA1C;AACA,MAAI6B,aAAa,GAAG7B,QAAQ,IAAIA,QAAQ,KAAK,QAA7C;AACA,MAAI8B,WAAW,GAAGvB,KAAK,CAACwB,QAAN,CAAeC,KAAf,CAAqBX,OAAvC;AACA,MAAIY,SAAS,GAAG9C,cAAc,CAACoB,KAAK,CAACwB,QAAN,CAAeC,KAAf,CAAqBE,KAArB,IAA8B,SAA/B,EAA0C3B,KAA1C,CAA9B;AACA,MAAI4B,SAAS,GAAG,EAAhB;AACA,MAAIC,eAAe,GAAGtD,QAAQ,CAACuD,GAAT,CAAatC,QAAb,EAAuB,UAAUuC,KAAV,EAAiBX,KAAjB,EAAwB;AACnEQ,IAAAA,SAAS,CAACI,IAAV,EAAgB,aAAa1D,KAAK,CAAC2D,aAAN,CAAoBjD,MAApB,CAA2B;AAA3B,MAC3B;AACApB,MAAAA,GAAG,EAAEwD,KADL;AAEAc,MAAAA,IAAI,EAAE,aAAa5D,KAAK,CAAC2D,aAAN,CAAoBV,WAApB,EAAiC;AAClDI,QAAAA,KAAK,EAAErB,WAAW,KAAKc,KAAhB,GAAwBM,SAAxB,GAAoCS;AADO,OAAjC,CAFnB;AAKAC,MAAAA,OAAO,EAAEjB,QAAQ,CAACC,KAAD;AALjB,KAD2B,CAA7B;AAQA,QAAIiB,SAAJ;;AAEA,QAAIjB,KAAK,KAAKd,WAAd,EAA2B;AACzB,UAAIG,gBAAgB,KAAK0B,SAAzB,EAAoC;AAClCE,QAAAA,SAAS,GAAG;AACVC,UAAAA,IAAI,EAAE7B,gBAAgB,GAAGH,WAAnB,GAAiC,WAAjC,GAA+C,YAD3C;AAEViC,UAAAA,IAAI,EAAE,QAFI;AAGVC,UAAAA,QAAQ,EAAExC,KAAK,CAACwB,QAAN,CAAea,SAAf,CAAyBG;AAHzB,SAAZ;AAKD;AACF,KARD,MAQO,IAAIpB,KAAK,KAAKX,gBAAd,EAAgC;AACrC4B,MAAAA,SAAS,GAAG;AACVC,QAAAA,IAAI,EAAE,SADI;AAEVE,QAAAA,QAAQ,EAAExC,KAAK,CAACwB,QAAN,CAAea,SAAf,CAAyBG;AAFzB,OAAZ;AAID,KALM,MAKA;AACLH,MAAAA,SAAS,GAAG;AACVC,QAAAA,IAAI,EAAE,SADI;AAEVE,QAAAA,QAAQ,EAAE;AAFA,OAAZ;AAID;;AAED,WAAO,aAAalE,KAAK,CAAC2D,aAAN,CAAoBlD,GAApB,EAAyB;AAC3CW,MAAAA,IAAI,EAAEA,IADqC;AAE3C+C,MAAAA,QAAQ,EAAE;AAFiC,KAAzB,EAGjB,aAAanE,KAAK,CAAC2D,aAAN,CAAoBlD,GAApB,EAAyB;AACvCW,MAAAA,IAAI,EAAEA,IADiC;AAEvC2C,MAAAA,SAAS,EAAEA;AAF4B,KAAzB,EAGbN,KAHa,CAHI,CAApB;AAOD,GAtCqB,CAAtB;AAuCA,MAAIW,QAAQ,GAAG1C,KAAK,CAACwB,QAAN,CAAeC,KAAf,CAAqBkB,IAApC;AACA,MAAIC,YAAY,GAAG5C,KAAK,CAACwB,QAAN,CAAeC,KAAf,CAAqBoB,QAAxC;AACA,MAAIC,gBAAgB,GAAGxC,WAAW,IAAII,SAAtC;AACA,MAAIqC,oBAAoB,GAAGzC,WAAW,IAAI,CAA1C;AACA,SAAO,aAAahC,KAAK,CAAC2D,aAAN,CAAoBhD,QAApB,EAA8B;AAChDiC,IAAAA,MAAM,EAAEA,MADwC;AAEhDF,IAAAA,OAAO,EAAEA;AAFuC,GAA9B,EAGjB,aAAa1C,KAAK,CAAC2D,aAAN,CAAoB/C,KAApB,EAA2B9B,QAAQ,CAAC;AAClD4F,IAAAA,YAAY,EAAE1C,WADoC;AAElDZ,IAAAA,IAAI,EAAEA;AAF4C,GAAD,EAGhDK,IAHgD,CAAnC,EAGN8B,eAHM,EAGW,aAAavD,KAAK,CAAC2D,aAAN,CAAoBlD,GAApB,EAAyB;AAC/DkE,IAAAA,QAAQ,EAAE,GADqD;AAE/D/C,IAAAA,KAAK,EAAEA,KAFwD;AAG/DN,IAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBsD,KAAjB,EAAwB;AAC/B/C,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACA,UAAIR,QAAJ,EAAcA,QAAQ,CAACuD,KAAD,CAAR;AACf,KAN8D;AAO/DpD,IAAAA,MAAM,EAAE,SAASA,MAAT,CAAgBoD,KAAhB,EAAuB;AAC7B/C,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,UAAIN,OAAJ,EAAaA,OAAO,CAACqD,KAAD,CAAP;AACd,KAV8D;AAW/DxD,IAAAA,IAAI,EAAE,IAXyD;AAY/DyD,IAAAA,SAAS,EAAE,KAZoD;AAa/DC,IAAAA,OAAO,EAAE;AAbsD,GAAzB,EAcrC/B,UAAU,IAAI,aAAa/C,KAAK,CAAC2D,aAAN,CAAoBjD,MAApB,EAA4B;AACxDU,IAAAA,IAAI,EAAE,UADkD;AAExDwC,IAAAA,IAAI,EAAE,aAAa5D,KAAK,CAAC2D,aAAN,CAAoBW,YAApB,EAAkC;AACnDjB,MAAAA,KAAK,EAAE/C,cAAc,CAACmE,oBAAoB,GAAG/C,KAAK,CAACwB,QAAN,CAAe6B,QAAf,CAAwB5B,KAAxB,CAA8BE,KAAjC,GAAyC3B,KAAK,CAACwB,QAAN,CAAeC,KAAf,CAAqBE,KAAnF,EAA0F3B,KAA1F;AAD8B,KAAlC,CAFqC;AAKxDsD,IAAAA,KAAK,EAAE,IALiD;AAMxDD,IAAAA,QAAQ,EAAEN,oBAN8C;AAOxDX,IAAAA,OAAO,EAAElB,MAP+C;AAQxDqC,IAAAA,cAAc,EAAE;AARwC,GAA5B,CAdU,EAuBpCjC,aAAa,IAAI,aAAahD,KAAK,CAAC2D,aAAN,CAAoBlD,GAApB,EAAyB;AACzDqE,IAAAA,OAAO,EAAE,KADgD;AAEzD1D,IAAAA,IAAI,EAAE,CAAC2B,UAAD,IAAe;AAFoC,GAAzB,EAG/B,aAAa/C,KAAK,CAAC2D,aAAN,CAAoBlD,GAApB,EAAyB;AACvCoE,IAAAA,SAAS,EAAE,KAD4B;AAEvCC,IAAAA,OAAO,EAAE;AAF8B,GAAzB,EAGbxB,SAHa,CAHkB,CAvBM,EA6BxBP,UAAU,IAAI,aAAa/C,KAAK,CAAC2D,aAAN,CAAoBjD,MAApB,EAA4B;AACrEU,IAAAA,IAAI,EAAE,UAD+D;AAErEwC,IAAAA,IAAI,EAAE,aAAa5D,KAAK,CAAC2D,aAAN,CAAoBS,QAApB,EAA8B;AAC/Cf,MAAAA,KAAK,EAAE/C,cAAc,CAACkE,gBAAgB,GAAG9C,KAAK,CAACwB,QAAN,CAAe6B,QAAf,CAAwB5B,KAAxB,CAA8BE,KAAjC,GAAyC3B,KAAK,CAACwB,QAAN,CAAeC,KAAf,CAAqBE,KAA/E,EAAsF3B,KAAtF;AAD0B,KAA9B,CAFkD;AAKrEsD,IAAAA,KAAK,EAAE,IAL8D;AAMrED,IAAAA,QAAQ,EAAEP,gBAN2D;AAOrEV,IAAAA,OAAO,EAAEpB,OAP4D;AAQrEuC,IAAAA,cAAc,EAAE;AARqD,GAA5B,CA7BH,CAHxB,CAHI,CAApB;AA6CD,CAvLD;;AAyLApE,QAAQ,CAACN,YAAT,GAAwB;AACtBQ,EAAAA,YAAY,EAAE,CADQ;AAEtBI,EAAAA,QAAQ,EAAE;AAFY,CAAxB;AAIApC,MAAM,CAACmG,cAAP,CAAsBrE,QAAQ,CAACN,YAA/B,EAA6CA,YAA7C;AACAM,QAAQ,CAACsE,WAAT,GAAuB,UAAvB;AACA,IAAIC,WAAJ;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC;AACAH,EAAAA,WAAW,GAAGI,OAAO,CAAC,OAAD,CAAP,CAAiBC,GAAjB,CAAqB5E,QAArB,CAAd;AACD;;AAED,IAAI6E,eAAe,GAAGN,WAAW,IAAIvE,QAArC;AACA,SAAS6E,eAAe,IAAI7E,QAA5B","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { Children, useContext, useEffect, useState, useRef } from 'react';\nimport { normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { ThemeContext } from '../../contexts';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Keyboard } from '../Keyboard';\nimport { Stack } from '../Stack';\n\nvar Carousel = function Carousel(_ref) {\n  var initialChild = _ref.initialChild,\n      onChild = _ref.onChild,\n      play = _ref.play,\n      children = _ref.children,\n      controls = _ref.controls,\n      fill = _ref.fill,\n      _onFocus = _ref.onFocus,\n      _onBlur = _ref.onBlur,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"initialChild\", \"onChild\", \"play\", \"children\", \"controls\", \"fill\", \"onFocus\", \"onBlur\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useState = useState(),\n      focus = _useState[0],\n      setFocus = _useState[1];\n\n  var timerRef = useRef();\n\n  var _useState2 = useState({\n    activeIndex: initialChild\n  }),\n      indexes = _useState2[0],\n      setIndexes = _useState2[1];\n\n  var activeIndex = indexes.activeIndex,\n      priorActiveIndex = indexes.priorActiveIndex;\n  var lastIndex = Children.count(children) - 1;\n  useEffect(function () {\n    if (play) {\n      var timer = setInterval(function () {\n        if (activeIndex < lastIndex) {\n          setIndexes({\n            activeIndex: activeIndex + 1,\n            priorActiveIndex: activeIndex\n          });\n        } else {\n          setIndexes({\n            activeIndex: 0,\n            priorActiveIndex: activeIndex\n          });\n        }\n      }, play);\n      timerRef.current = timer;\n      return function () {\n        clearTimeout(timer);\n      };\n    }\n\n    return function () {};\n  }, [activeIndex, play, children, lastIndex]);\n  useEffect(function () {\n    if (onChild) onChild(activeIndex);\n    return function () {}; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeIndex]);\n\n  var onRight = function onRight() {\n    if (activeIndex >= lastIndex) {\n      return;\n    }\n\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex + 1,\n      priorActiveIndex: activeIndex\n    });\n  };\n\n  var onLeft = function onLeft() {\n    if (activeIndex <= 0) {\n      return;\n    }\n\n    clearInterval(timerRef.current);\n    setIndexes({\n      activeIndex: activeIndex - 1,\n      priorActiveIndex: activeIndex\n    });\n  };\n\n  var onSelect = function onSelect(index) {\n    return function () {\n      clearInterval(timerRef.current);\n      setIndexes({\n        activeIndex: index,\n        priorActiveIndex: activeIndex\n      });\n    };\n  };\n\n  var showArrows = controls && controls !== 'selectors';\n  var showSelectors = controls && controls !== 'arrows';\n  var CurrentIcon = theme.carousel.icons.current;\n  var iconColor = normalizeColor(theme.carousel.icons.color || 'control', theme);\n  var selectors = [];\n  var wrappedChildren = Children.map(children, function (child, index) {\n    selectors.push( /*#__PURE__*/React.createElement(Button // eslint-disable-next-line react/no-array-index-key\n    , {\n      key: index,\n      icon: /*#__PURE__*/React.createElement(CurrentIcon, {\n        color: activeIndex === index ? iconColor : undefined\n      }),\n      onClick: onSelect(index)\n    }));\n    var animation;\n\n    if (index === activeIndex) {\n      if (priorActiveIndex !== undefined) {\n        animation = {\n          type: priorActiveIndex < activeIndex ? 'slideLeft' : 'slideRight',\n          size: 'xlarge',\n          duration: theme.carousel.animation.duration\n        };\n      }\n    } else if (index === priorActiveIndex) {\n      animation = {\n        type: 'fadeOut',\n        duration: theme.carousel.animation.duration\n      };\n    } else {\n      animation = {\n        type: 'fadeOut',\n        duration: 0\n      };\n    }\n\n    return /*#__PURE__*/React.createElement(Box, {\n      fill: fill,\n      overflow: \"hidden\"\n    }, /*#__PURE__*/React.createElement(Box, {\n      fill: fill,\n      animation: animation\n    }, child));\n  });\n  var NextIcon = theme.carousel.icons.next;\n  var PreviousIcon = theme.carousel.icons.previous;\n  var nextIconDisabled = activeIndex >= lastIndex;\n  var previousIconDisabled = activeIndex <= 0;\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onLeft: onLeft,\n    onRight: onRight\n  }, /*#__PURE__*/React.createElement(Stack, _extends({\n    guidingChild: activeIndex,\n    fill: fill\n  }, rest), wrappedChildren, /*#__PURE__*/React.createElement(Box, {\n    tabIndex: \"0\",\n    focus: focus,\n    onFocus: function onFocus(event) {\n      setFocus(true);\n      if (_onFocus) _onFocus(event);\n    },\n    onBlur: function onBlur(event) {\n      setFocus(false);\n      if (_onBlur) _onBlur(event);\n    },\n    fill: true,\n    direction: \"row\",\n    justify: \"between\"\n  }, showArrows && /*#__PURE__*/React.createElement(Button, {\n    fill: \"vertical\",\n    icon: /*#__PURE__*/React.createElement(PreviousIcon, {\n      color: normalizeColor(previousIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    plain: true,\n    disabled: previousIconDisabled,\n    onClick: onLeft,\n    hoverIndicator: true\n  }), showSelectors && /*#__PURE__*/React.createElement(Box, {\n    justify: \"end\",\n    fill: !showArrows && 'horizontal'\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    justify: \"center\"\n  }, selectors)), showArrows && /*#__PURE__*/React.createElement(Button, {\n    fill: \"vertical\",\n    icon: /*#__PURE__*/React.createElement(NextIcon, {\n      color: normalizeColor(nextIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    plain: true,\n    disabled: nextIconDisabled,\n    onClick: onRight,\n    hoverIndicator: true\n  }))));\n};\n\nCarousel.defaultProps = {\n  initialChild: 0,\n  controls: true\n};\nObject.setPrototypeOf(Carousel.defaultProps, defaultProps);\nCarousel.displayName = 'Carousel';\nvar CarouselDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  CarouselDoc = require('./doc').doc(Carousel);\n}\n\nvar CarouselWrapper = CarouselDoc || Carousel;\nexport { CarouselWrapper as Carousel };"]},"metadata":{},"sourceType":"module"}