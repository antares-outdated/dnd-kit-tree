{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useContext, useRef } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { disabledStyle, focusStyle, useForwardedRef } from '../../utils';\nimport { Anchor } from '../Anchor';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { FormContext } from '../Form/FormContext';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { StyledFileInput } from './StyledFileInput'; // We want the interaction of <input type=\"file\" /> but none of its styling.\n// So, we put what we want to show underneath and\n// position the <input /> on top with an opacity of zero.\n// If there are any files selected, we need to show the buttons to remove them.\n// So, we offset the <input /> from the right by the appropriate width.\n// We don't use Stack because of how we need to control the positioning.\n\nvar ContentsBox = styled(Box).withConfig({\n  displayName: \"FileInput__ContentsBox\",\n  componentId: \"sc-1jzq7im-0\"\n})([\"position:relative;\", \" &:focus{\", \"}\", \";\", \";\", \";\"], function (props) {\n  return props.disabled ? disabledStyle() : 'cursor: pointer;';\n}, focusStyle, function (props) {\n  return props.theme.fileInput && props.theme.fileInput.extend;\n}, function (props) {\n  return props.hover && props.theme.fileInput && props.theme.fileInput.hover && props.theme.fileInput.hover.extend;\n}, function (props) {\n  return props.dragOver && props.theme.fileInput && props.theme.fileInput.dragOver && props.theme.fileInput.dragOver.extend;\n});\nvar Label = styled(Text).withConfig({\n  displayName: \"FileInput__Label\",\n  componentId: \"sc-1jzq7im-1\"\n})([\"\", \";\"], function (props) {\n  return props.theme.fileInput && props.theme.fileInput.label && props.theme.fileInput.label.extend;\n});\nvar Message = styled(Text).withConfig({\n  displayName: \"FileInput__Message\",\n  componentId: \"sc-1jzq7im-2\"\n})([\"\", \";\"], function (props) {\n  return props.theme.fileInput && props.theme.fileInput.message && props.theme.fileInput.message.extend;\n});\nvar FileInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      background = _ref.background,\n      border = _ref.border,\n      disabled = _ref.disabled,\n      id = _ref.id,\n      plain = _ref.plain,\n      renderFile = _ref.renderFile,\n      messages = _ref.messages,\n      margin = _ref.margin,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      _onChange = _ref.onChange,\n      pad = _ref.pad,\n      valueProp = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"background\", \"border\", \"disabled\", \"id\", \"plain\", \"renderFile\", \"messages\", \"margin\", \"multiple\", \"name\", \"onChange\", \"pad\", \"value\"]);\n\n  var theme = useContext(ThemeContext);\n  var formContext = useContext(FormContext);\n\n  var _formContext$useFormI = formContext.useFormInput(name, valueProp, []),\n      files = _formContext$useFormI[0],\n      setFiles = _formContext$useFormI[1];\n\n  var _React$useState = React.useState(),\n      hover = _React$useState[0],\n      setHover = _React$useState[1];\n\n  var _React$useState2 = React.useState(),\n      dragOver = _React$useState2[0],\n      setDragOver = _React$useState2[1];\n\n  var aggregateThreshold = multiple && multiple.aggregateThreshold || 10;\n  var inputRef = useForwardedRef(ref);\n  var controlRef = useRef();\n  var removeRef = useRef();\n  var RemoveIcon = theme.fileInput.icons.remove;\n\n  var mergeTheme = function mergeTheme(propertyName, defaultKey) {\n    var result = {};\n    var themeProp = theme.fileInput[propertyName];\n    if (themeProp) if (typeof themeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = themeProp;else result = themeProp;\n    } else result = _extends({}, themeProp);\n    var hoverThemeProp = theme.fileInput.hover[propertyName];\n    if (hover && hoverThemeProp) if (typeof hoverThemeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = hoverThemeProp;else result = hoverThemeProp;\n    } else result = _extends({}, result, hoverThemeProp);\n    var dragOverThemeProp = theme.fileInput.dragOver[propertyName];\n    if (dragOver && dragOverThemeProp) if (typeof dragOverThemeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = dragOverThemeProp;else result = dragOverThemeProp;\n    } else result = _extends({}, result, dragOverThemeProp);\n    return typeof result === 'object' && Object.keys(result).length === 0 ? undefined : result;\n  };\n\n  var rightPad;\n\n  if (mergeTheme('pad')) {\n    var _mergeTheme = mergeTheme('pad'),\n        horizontal = _mergeTheme.horizontal,\n        right = _mergeTheme.right;\n\n    if (right) {\n      rightPad = theme.global.edgeSize[right] || right;\n    } else if (horizontal) {\n      rightPad = theme.global.edgeSize[horizontal] || horizontal;\n    }\n  } // rightPad needs to be included in the rightOffset\n  // otherwise input may cover the RemoveButton, making it\n  // unreachable by mouse click.\n\n\n  var rightOffset;\n\n  if (removeRef.current) {\n    if (rightPad && typeof rightPad === 'string') rightOffset = removeRef.current.getBoundingClientRect().width + rightPad.replace('px', '');else rightOffset = removeRef.current.getBoundingClientRect().width;\n  }\n\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onSpace: function onSpace(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    },\n    onEnter: function onEnter(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    }\n  }, /*#__PURE__*/React.createElement(ContentsBox, {\n    ref: controlRef,\n    tabIndex: !plain ? 0 : undefined,\n    theme: theme,\n    disabled: disabled,\n    background: mergeTheme('background', 'color'),\n    border: mergeTheme('border', 'side'),\n    margin: mergeTheme('margin'),\n    pad: mergeTheme('pad'),\n    round: mergeTheme('round', 'size'),\n    align: files.length ? 'stretch' : 'center',\n    justify: \"center\",\n    hover: hover,\n    onMouseOver: function onMouseOver() {\n      return setHover(true);\n    },\n    onMouseOut: function onMouseOut() {\n      return setHover(false);\n    },\n    dragOver: dragOver\n  }, files.length > aggregateThreshold && /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    align: \"center\",\n    justify: \"between\"\n  }, /*#__PURE__*/React.createElement(Label, theme.fileInput.label, files.length, \" \", messages.files || 'files'), /*#__PURE__*/React.createElement(Button, {\n    ref: removeRef,\n    a11yTitle: messages.removeAll || 'remove all',\n    icon: /*#__PURE__*/React.createElement(RemoveIcon, null),\n    hoverIndicator: true,\n    onClick: function onClick(event) {\n      event.stopPropagation();\n      setFiles([]);\n      inputRef.current.focus();\n    }\n  })), files.length > 0 && files.length <= aggregateThreshold && files.map(function (file, index) {\n    return /*#__PURE__*/React.createElement(Box, {\n      key: file.name,\n      direction: \"row\",\n      align: \"center\",\n      justify: \"between\"\n    }, renderFile ? renderFile(file) : /*#__PURE__*/React.createElement(Label, _extends({\n      weight: theme.global.input.weight || theme.global.input.font.weight,\n      truncate: true\n    }, theme.fileInput.label), file.name), /*#__PURE__*/React.createElement(Button, {\n      ref: index ? undefined : removeRef,\n      a11yTitle: (messages.remove || 'remove') + \" \" + file.name,\n      icon: /*#__PURE__*/React.createElement(RemoveIcon, null),\n      hoverIndicator: true,\n      onClick: function onClick(event) {\n        event.stopPropagation();\n        var nextFiles = [].concat(files);\n        nextFiles.splice(index, 1);\n        setFiles(nextFiles);\n        if (nextFiles.length === 0) inputRef.current.value = '';\n        inputRef.current.focus();\n      }\n    }));\n  }), !files.length && /*#__PURE__*/React.createElement(Message, theme.fileInput.message, multiple ? messages.dropPromptMultiple || 'Drop files here or' : messages.dropPrompt || 'Drop file here or', ' ', /*#__PURE__*/React.createElement(Anchor, {\n    label: messages.browse || 'browse'\n  })), /*#__PURE__*/React.createElement(StyledFileInput, _extends({\n    ref: inputRef,\n    type: \"file\",\n    id: id,\n    name: name,\n    multiple: multiple,\n    disabled: disabled,\n    plain: true,\n    rightOffset: rightOffset\n  }, rest, {\n    onDragOver: function onDragOver() {\n      return setDragOver(true);\n    },\n    onDragLeave: function onDragLeave() {\n      return setDragOver(false);\n    },\n    onChange: function onChange(event) {\n      event.persist();\n      var fileList = event.target.files;\n      var nextFiles = multiple ? [].concat(files) : [];\n\n      var _loop = function _loop(i) {\n        // avoid duplicates\n        var existing = nextFiles.filter(function (file) {\n          return file.name === fileList[i].name && file.size === fileList[i].size;\n        }).length > 0;\n        if (!existing) nextFiles.push(fileList[i]);\n      };\n\n      for (var i = 0; i < fileList.length; i += 1) {\n        _loop(i);\n      }\n\n      setFiles(nextFiles);\n      setDragOver(false);\n      if (_onChange) _onChange(event);\n    }\n  }))));\n});\nFileInput.defaultProps = {\n  messages: {\n    browse: 'browse',\n    dropPrompt: 'Drop file here or',\n    dropPromptMultiple: 'Drop files here or',\n    files: 'files',\n    remove: 'remove',\n    removeAll: 'remove all'\n  }\n};\nObject.setPrototypeOf(FileInput.defaultProps, defaultProps);\nFileInput.displayName = 'FileInput';\nvar FileInputDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  FileInputDoc = require('./doc').doc(FileInput);\n}\n\nvar FileInputWrapper = FileInputDoc || FileInput;\nexport { FileInputWrapper as FileInput };","map":{"version":3,"sources":["C:/Users/antaresofficial/Desktop/tree/node_modules/grommet/es6/components/FileInput/FileInput.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","useContext","useRef","styled","ThemeContext","defaultProps","disabledStyle","focusStyle","useForwardedRef","Anchor","Box","Button","FormContext","Keyboard","Text","StyledFileInput","ContentsBox","withConfig","displayName","componentId","props","disabled","theme","fileInput","extend","hover","dragOver","Label","label","Message","message","FileInput","_ref","ref","a11yTitle","background","border","id","plain","renderFile","messages","margin","multiple","name","_onChange","onChange","pad","valueProp","value","rest","formContext","_formContext$useFormI","useFormInput","files","setFiles","_React$useState","useState","setHover","_React$useState2","setDragOver","aggregateThreshold","inputRef","controlRef","removeRef","RemoveIcon","icons","remove","mergeTheme","propertyName","defaultKey","result","themeProp","hoverThemeProp","dragOverThemeProp","undefined","rightPad","_mergeTheme","horizontal","right","global","edgeSize","rightOffset","current","getBoundingClientRect","width","replace","createElement","onSpace","event","click","onEnter","tabIndex","round","align","justify","onMouseOver","onMouseOut","direction","removeAll","icon","hoverIndicator","onClick","stopPropagation","focus","map","file","index","weight","input","font","truncate","nextFiles","concat","splice","dropPromptMultiple","dropPrompt","browse","type","onDragOver","onDragLeave","persist","fileList","_loop","existing","filter","size","push","setPrototypeOf","FileInputDoc","process","env","NODE_ENV","require","doc","FileInputWrapper"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useContext, useRef } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { disabledStyle, focusStyle, useForwardedRef } from '../../utils';\nimport { Anchor } from '../Anchor';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { FormContext } from '../Form/FormContext';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { StyledFileInput } from './StyledFileInput'; // We want the interaction of <input type=\"file\" /> but none of its styling.\n// So, we put what we want to show underneath and\n// position the <input /> on top with an opacity of zero.\n// If there are any files selected, we need to show the buttons to remove them.\n// So, we offset the <input /> from the right by the appropriate width.\n// We don't use Stack because of how we need to control the positioning.\n\nvar ContentsBox = styled(Box).withConfig({\n  displayName: \"FileInput__ContentsBox\",\n  componentId: \"sc-1jzq7im-0\"\n})([\"position:relative;\", \" &:focus{\", \"}\", \";\", \";\", \";\"], function (props) {\n  return props.disabled ? disabledStyle() : 'cursor: pointer;';\n}, focusStyle, function (props) {\n  return props.theme.fileInput && props.theme.fileInput.extend;\n}, function (props) {\n  return props.hover && props.theme.fileInput && props.theme.fileInput.hover && props.theme.fileInput.hover.extend;\n}, function (props) {\n  return props.dragOver && props.theme.fileInput && props.theme.fileInput.dragOver && props.theme.fileInput.dragOver.extend;\n});\nvar Label = styled(Text).withConfig({\n  displayName: \"FileInput__Label\",\n  componentId: \"sc-1jzq7im-1\"\n})([\"\", \";\"], function (props) {\n  return props.theme.fileInput && props.theme.fileInput.label && props.theme.fileInput.label.extend;\n});\nvar Message = styled(Text).withConfig({\n  displayName: \"FileInput__Message\",\n  componentId: \"sc-1jzq7im-2\"\n})([\"\", \";\"], function (props) {\n  return props.theme.fileInput && props.theme.fileInput.message && props.theme.fileInput.message.extend;\n});\nvar FileInput = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var a11yTitle = _ref.a11yTitle,\n      background = _ref.background,\n      border = _ref.border,\n      disabled = _ref.disabled,\n      id = _ref.id,\n      plain = _ref.plain,\n      renderFile = _ref.renderFile,\n      messages = _ref.messages,\n      margin = _ref.margin,\n      multiple = _ref.multiple,\n      name = _ref.name,\n      _onChange = _ref.onChange,\n      pad = _ref.pad,\n      valueProp = _ref.value,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"a11yTitle\", \"background\", \"border\", \"disabled\", \"id\", \"plain\", \"renderFile\", \"messages\", \"margin\", \"multiple\", \"name\", \"onChange\", \"pad\", \"value\"]);\n\n  var theme = useContext(ThemeContext);\n  var formContext = useContext(FormContext);\n\n  var _formContext$useFormI = formContext.useFormInput(name, valueProp, []),\n      files = _formContext$useFormI[0],\n      setFiles = _formContext$useFormI[1];\n\n  var _React$useState = React.useState(),\n      hover = _React$useState[0],\n      setHover = _React$useState[1];\n\n  var _React$useState2 = React.useState(),\n      dragOver = _React$useState2[0],\n      setDragOver = _React$useState2[1];\n\n  var aggregateThreshold = multiple && multiple.aggregateThreshold || 10;\n  var inputRef = useForwardedRef(ref);\n  var controlRef = useRef();\n  var removeRef = useRef();\n  var RemoveIcon = theme.fileInput.icons.remove;\n\n  var mergeTheme = function mergeTheme(propertyName, defaultKey) {\n    var result = {};\n    var themeProp = theme.fileInput[propertyName];\n    if (themeProp) if (typeof themeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = themeProp;else result = themeProp;\n    } else result = _extends({}, themeProp);\n    var hoverThemeProp = theme.fileInput.hover[propertyName];\n    if (hover && hoverThemeProp) if (typeof hoverThemeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = hoverThemeProp;else result = hoverThemeProp;\n    } else result = _extends({}, result, hoverThemeProp);\n    var dragOverThemeProp = theme.fileInput.dragOver[propertyName];\n    if (dragOver && dragOverThemeProp) if (typeof dragOverThemeProp !== 'object') {\n      if (defaultKey) result[defaultKey] = dragOverThemeProp;else result = dragOverThemeProp;\n    } else result = _extends({}, result, dragOverThemeProp);\n    return typeof result === 'object' && Object.keys(result).length === 0 ? undefined : result;\n  };\n\n  var rightPad;\n\n  if (mergeTheme('pad')) {\n    var _mergeTheme = mergeTheme('pad'),\n        horizontal = _mergeTheme.horizontal,\n        right = _mergeTheme.right;\n\n    if (right) {\n      rightPad = theme.global.edgeSize[right] || right;\n    } else if (horizontal) {\n      rightPad = theme.global.edgeSize[horizontal] || horizontal;\n    }\n  } // rightPad needs to be included in the rightOffset\n  // otherwise input may cover the RemoveButton, making it\n  // unreachable by mouse click.\n\n\n  var rightOffset;\n\n  if (removeRef.current) {\n    if (rightPad && typeof rightPad === 'string') rightOffset = removeRef.current.getBoundingClientRect().width + rightPad.replace('px', '');else rightOffset = removeRef.current.getBoundingClientRect().width;\n  }\n\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onSpace: function onSpace(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    },\n    onEnter: function onEnter(event) {\n      if (controlRef.current === event.target) inputRef.current.click();\n    }\n  }, /*#__PURE__*/React.createElement(ContentsBox, {\n    ref: controlRef,\n    tabIndex: !plain ? 0 : undefined,\n    theme: theme,\n    disabled: disabled,\n    background: mergeTheme('background', 'color'),\n    border: mergeTheme('border', 'side'),\n    margin: mergeTheme('margin'),\n    pad: mergeTheme('pad'),\n    round: mergeTheme('round', 'size'),\n    align: files.length ? 'stretch' : 'center',\n    justify: \"center\",\n    hover: hover,\n    onMouseOver: function onMouseOver() {\n      return setHover(true);\n    },\n    onMouseOut: function onMouseOut() {\n      return setHover(false);\n    },\n    dragOver: dragOver\n  }, files.length > aggregateThreshold && /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    align: \"center\",\n    justify: \"between\"\n  }, /*#__PURE__*/React.createElement(Label, theme.fileInput.label, files.length, \" \", messages.files || 'files'), /*#__PURE__*/React.createElement(Button, {\n    ref: removeRef,\n    a11yTitle: messages.removeAll || 'remove all',\n    icon: /*#__PURE__*/React.createElement(RemoveIcon, null),\n    hoverIndicator: true,\n    onClick: function onClick(event) {\n      event.stopPropagation();\n      setFiles([]);\n      inputRef.current.focus();\n    }\n  })), files.length > 0 && files.length <= aggregateThreshold && files.map(function (file, index) {\n    return /*#__PURE__*/React.createElement(Box, {\n      key: file.name,\n      direction: \"row\",\n      align: \"center\",\n      justify: \"between\"\n    }, renderFile ? renderFile(file) : /*#__PURE__*/React.createElement(Label, _extends({\n      weight: theme.global.input.weight || theme.global.input.font.weight,\n      truncate: true\n    }, theme.fileInput.label), file.name), /*#__PURE__*/React.createElement(Button, {\n      ref: index ? undefined : removeRef,\n      a11yTitle: (messages.remove || 'remove') + \" \" + file.name,\n      icon: /*#__PURE__*/React.createElement(RemoveIcon, null),\n      hoverIndicator: true,\n      onClick: function onClick(event) {\n        event.stopPropagation();\n        var nextFiles = [].concat(files);\n        nextFiles.splice(index, 1);\n        setFiles(nextFiles);\n        if (nextFiles.length === 0) inputRef.current.value = '';\n        inputRef.current.focus();\n      }\n    }));\n  }), !files.length && /*#__PURE__*/React.createElement(Message, theme.fileInput.message, multiple ? messages.dropPromptMultiple || 'Drop files here or' : messages.dropPrompt || 'Drop file here or', ' ', /*#__PURE__*/React.createElement(Anchor, {\n    label: messages.browse || 'browse'\n  })), /*#__PURE__*/React.createElement(StyledFileInput, _extends({\n    ref: inputRef,\n    type: \"file\",\n    id: id,\n    name: name,\n    multiple: multiple,\n    disabled: disabled,\n    plain: true,\n    rightOffset: rightOffset\n  }, rest, {\n    onDragOver: function onDragOver() {\n      return setDragOver(true);\n    },\n    onDragLeave: function onDragLeave() {\n      return setDragOver(false);\n    },\n    onChange: function onChange(event) {\n      event.persist();\n      var fileList = event.target.files;\n      var nextFiles = multiple ? [].concat(files) : [];\n\n      var _loop = function _loop(i) {\n        // avoid duplicates\n        var existing = nextFiles.filter(function (file) {\n          return file.name === fileList[i].name && file.size === fileList[i].size;\n        }).length > 0;\n        if (!existing) nextFiles.push(fileList[i]);\n      };\n\n      for (var i = 0; i < fileList.length; i += 1) {\n        _loop(i);\n      }\n\n      setFiles(nextFiles);\n      setDragOver(false);\n      if (_onChange) _onChange(event);\n    }\n  }))));\n});\nFileInput.defaultProps = {\n  messages: {\n    browse: 'browse',\n    dropPrompt: 'Drop file here or',\n    dropPromptMultiple: 'Drop files here or',\n    files: 'files',\n    remove: 'remove',\n    removeAll: 'remove all'\n  }\n};\nObject.setPrototypeOf(FileInput.defaultProps, defaultProps);\nFileInput.displayName = 'FileInput';\nvar FileInputDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  // eslint-disable-next-line global-require\n  FileInputDoc = require('./doc').doc(FileInput);\n}\n\nvar FileInputWrapper = FileInputDoc || FileInput;\nexport { FileInputWrapper as FileInput };"]},"metadata":{},"sourceType":"module"}