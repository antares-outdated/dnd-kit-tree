{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useCallback, useContext, useMemo, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { normalizeColor } from '../../utils';\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"Menu__ContainerBox\",\n  componentId: \"sc-17fcys9-0\"\n})([\"max-height:inherit;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}\", \";\"], function (props) {\n  return props.theme.menu.extend;\n});\n/* Notes on keyboard interactivity (based on W3) // For details reference: https://www.w3.org/TR/wai-aria-practices/#menu\n\nTo open menu when menu button is focused:\n- Space/Enter/Up arrow/Down arrow will open menu\n\nTo navigate within menu:\n- Up/down arrow keys can be used and will loop through options\n(keeping focus within the Menu)\n- Tab can be used, but once the last menu item is reached, Tab will close the\nMenu and continue through page content.\n\nTo close the menu:\n- Tabbing beyond the first or last menu item.\n- Esc will close the menu\n- Select a menu item\n\nTo make a selection:\n- Enter key is pressed.\n- Space is pressed.\n*/\n\nvar Menu = /*#__PURE__*/forwardRef(function (props, ref) {\n  var a11yTitle = props.a11yTitle,\n      children = props.children,\n      disabled = props.disabled,\n      dropAlign = props.dropAlign,\n      dropBackground = props.dropBackground,\n      dropProps = props.dropProps,\n      dropTarget = props.dropTarget,\n      justifyContent = props.justifyContent,\n      icon = props.icon,\n      items = props.items,\n      label = props.label,\n      messages = props.messages,\n      onKeyDown = props.onKeyDown,\n      open = props.open,\n      plain = props.plain,\n      size = props.size,\n      rest = _objectWithoutPropertiesLoose(props, [\"a11yTitle\", \"children\", \"disabled\", \"dropAlign\", \"dropBackground\", \"dropProps\", \"dropTarget\", \"justifyContent\", \"icon\", \"items\", \"label\", \"messages\", \"onKeyDown\", \"open\", \"plain\", \"size\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var iconColor = normalizeColor(theme.menu.icons.color || 'control', theme); // need to destructure the align otherwise it will get passed through\n  // to DropButton and override prop values\n\n  var _theme$menu$drop = theme.menu.drop,\n      themeDropAlign = _theme$menu$drop.align,\n      themeDropProps = _objectWithoutPropertiesLoose(_theme$menu$drop, [\"align\"]);\n\n  var align = dropProps && dropProps.align || dropAlign || themeDropAlign;\n  var controlButtonIndex = useMemo(function () {\n    if (align.top === 'top') return -1;\n    if (align.bottom === 'bottom') return items.length;\n    return undefined;\n  }, [align, items]); // Keeps track of whether menu options should be mirrored\n  // when there's not enough space below DropButton. This state\n  // is modified on /Drop/DropContainer.js.\n\n  var _useState = useState(),\n      alignControlMirror = _useState[0],\n      setAlignControlMirror = _useState[1];\n\n  var buttonRefs = {};\n  var constants = useMemo(function () {\n    return {\n      none: 'none',\n      tab: 9,\n      // Menu control button included on top of menu items\n      controlTop: align.top === 'top' || undefined,\n      // Menu control button included on the bottom of menu items\n      controlBottom: align.bottom === 'bottom' || undefined,\n      controlButtonIndex: controlButtonIndex\n    };\n  }, [align, controlButtonIndex]);\n\n  var _useState2 = useState(constants.none),\n      activeItemIndex = _useState2[0],\n      setActiveItemIndex = _useState2[1];\n\n  var _useState3 = useState(open || false),\n      isOpen = _useState3[0],\n      setOpen = _useState3[1];\n\n  var MenuIcon = isOpen && theme.menu.icons.up ? theme.menu.icons.up : theme.menu.icons.down;\n  var onDropClose = useCallback(function () {\n    setActiveItemIndex(constants.none);\n    setOpen(false);\n  }, [constants.none]);\n  var onDropOpen = useCallback(function () {\n    setOpen(true);\n  }, []);\n\n  var onSelectMenuItem = function onSelectMenuItem(event) {\n    if (isOpen) {\n      if (activeItemIndex >= 0) {\n        event.preventDefault();\n        event.stopPropagation();\n        buttonRefs[activeItemIndex].click();\n      }\n    } else {\n      onDropOpen();\n    }\n  };\n\n  var isTab = function isTab(event) {\n    return event.keyCode === constants.tab || event.which === constants.tab;\n  };\n\n  var onNextMenuItem = function onNextMenuItem(event) {\n    event.preventDefault();\n\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (!constants.controlBottom && activeItemIndex === items.length - 1 || constants.controlBottom && activeItemIndex === controlButtonIndex)) {\n      // User has reached end of the menu, this tab will close\n      // the menu drop because there are no more \"next items\" to access\n      onDropClose();\n    } else {\n      var index;\n\n      if ( // This checks if the user has reached the end of the menu.\n      // In the case the the menu control button is located at the\n      // bottom of the menu, it checks if the user has reached the button.\n      // Otherwise, it checks if the user is at the last menu item.\n      constants.controlBottom && activeItemIndex === controlButtonIndex || !constants.controlBottom && activeItemIndex === items.length - 1 || activeItemIndex === constants.none) {\n        // place focus on the first menu item\n        index = 0;\n      } else {\n        index = activeItemIndex + 1;\n      }\n\n      setActiveItemIndex(index);\n      buttonRefs[index].focus();\n    }\n  };\n\n  var onPreviousMenuItem = function onPreviousMenuItem(event) {\n    event.preventDefault();\n\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (constants.controlTop && activeItemIndex === controlButtonIndex || !constants.controlTop && activeItemIndex - 1 < 0)) {\n      // User has reached beginning of the menu, this tab will close\n      // the menu drop because there are no more \"previous items\" to access\n      onDropClose();\n    } else {\n      var index;\n\n      if (activeItemIndex - 1 < 0) {\n        if (constants.controlTop && activeItemIndex - 1 === controlButtonIndex) {\n          index = items.length;\n        } else {\n          index = items.length - 1;\n        }\n      } else {\n        index = activeItemIndex - 1;\n      }\n\n      setActiveItemIndex(index);\n      buttonRefs[index].focus();\n    }\n  };\n\n  var menuIcon = icon !== false ? icon !== true && icon || /*#__PURE__*/React.createElement(MenuIcon, {\n    color: iconColor,\n    size: size\n  }) : null;\n  var buttonProps = {\n    plain: plain,\n    size: size\n  };\n  var content;\n\n  if (children) {\n    content = children;\n  } else if (!theme.button[\"default\"]) {\n    content = /*#__PURE__*/React.createElement(Box, {\n      direction: \"row\",\n      justify: justifyContent,\n      align: \"center\",\n      pad: \"small\",\n      gap: label && icon !== false ? 'small' : undefined\n    }, /*#__PURE__*/React.createElement(Text, {\n      size: size\n    }, label), menuIcon);\n  } else {\n    // when a theme has theme.button.default, keep content as\n    // undefined so we can rely on Button label & icon props\n    buttonProps = {\n      icon: menuIcon,\n      label: label,\n      plain: plain,\n      reverse: true,\n      size: size\n    };\n    content = undefined;\n  }\n\n  var controlMirror = /*#__PURE__*/React.createElement(Box, {\n    flex: false\n  }, /*#__PURE__*/React.createElement(Button, _extends({\n    ref: function ref(r) {\n      // make it accessible at the end of all menu items\n      buttonRefs[items.length] = r;\n    },\n    a11yTitle: a11yTitle || messages.closeMenu || 'Close Menu',\n    active: activeItemIndex === controlButtonIndex,\n    focusIndicator: false,\n    hoverIndicator: \"background\",\n    onClick: onDropClose,\n    onFocus: function onFocus() {\n      return setActiveItemIndex(controlButtonIndex);\n    } // On first tab into menu, the control button should not\n    // be able to receive tab focus because the focus should\n    // go to the first menu item instead.\n    ,\n    tabIndex: activeItemIndex === constants.none ? '-1' : undefined\n  }, buttonProps), typeof content === 'function' ? function () {\n    return content(_extends({}, props, {\n      drop: true\n    }));\n  } : content));\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onNextMenuItem,\n    onUp: onPreviousMenuItem,\n    onEnter: onSelectMenuItem,\n    onSpace: onSelectMenuItem,\n    onEsc: onDropClose,\n    onTab: onDropClose,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(DropButton, _extends({\n    ref: ref\n  }, rest, buttonProps, {\n    a11yTitle: a11yTitle || messages.openMenu || 'Open Menu',\n    onAlign: setAlignControlMirror,\n    disabled: disabled,\n    dropAlign: align,\n    dropTarget: dropTarget,\n    dropProps: dropProps || themeDropProps,\n    open: isOpen,\n    onOpen: onDropOpen,\n    onClose: onDropClose,\n    dropContent: /*#__PURE__*/React.createElement(Keyboard, {\n      onTab: function onTab(event) {\n        return event.shiftKey ? onPreviousMenuItem(event) : onNextMenuItem(event);\n      },\n      onEnter: onSelectMenuItem\n    }, /*#__PURE__*/React.createElement(ContainerBox, {\n      background: dropBackground || theme.menu.background\n    }, alignControlMirror === 'top' && align.top === 'top' ? controlMirror : undefined, /*#__PURE__*/React.createElement(Box, {\n      overflow: \"auto\"\n    }, items.map(function (item, index) {\n      // Determine whether the label is done as a child or\n      // as an option Button kind property.\n      var child = !theme.button.option ? /*#__PURE__*/React.createElement(Box, {\n        align: \"start\",\n        pad: \"small\",\n        direction: \"row\",\n        gap: item.gap\n      }, item.reverse && item.label, item.icon, !item.reverse && item.label) : undefined; // if we have a child, turn on plain, and hoverIndicator\n\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line react/no-array-index-key\n        React.createElement(Box, {\n          key: index,\n          flex: false\n        }, /*#__PURE__*/React.createElement(Button, _extends({\n          ref: function ref(r) {\n            buttonRefs[index] = r;\n          },\n          onFocus: function onFocus() {\n            return setActiveItemIndex(index);\n          },\n          active: activeItemIndex === index,\n          focusIndicator: false,\n          plain: !child ? undefined : true,\n          align: \"start\",\n          kind: !child ? 'option' : undefined,\n          hoverIndicator: !child ? undefined : 'background'\n        }, !child ? item : _extends({}, item, {\n          gap: undefined,\n          icon: undefined,\n          label: undefined,\n          reverse: undefined\n        }), {\n          onClick: function onClick() {\n            if (item.onClick) {\n              item.onClick.apply(item, arguments);\n            }\n\n            if (item.close !== false) {\n              onDropClose();\n            }\n          }\n        }), child))\n      );\n    })), alignControlMirror === 'bottom' || align.bottom === 'bottom' ? controlMirror : undefined))\n  }), content));\n});\nMenu.defaultProps = {\n  items: [],\n  messages: {\n    openMenu: 'Open Menu',\n    closeMenu: 'Close Menu'\n  },\n  justifyContent: 'start'\n};\nMenu.displayName = 'Menu';\nvar MenuDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  MenuDoc = require('./doc').doc(Menu); // eslint-disable-line global-require\n}\n\nvar MenuWrapper = MenuDoc || Menu;\nexport { MenuWrapper as Menu };","map":{"version":3,"sources":["C:/Users/antaresofficial/Desktop/tree/node_modules/grommet/es6/components/Menu/Menu.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","useCallback","useContext","useMemo","useState","styled","ThemeContext","defaultProps","Box","Button","DropButton","Keyboard","Text","normalizeColor","ContainerBox","withConfig","displayName","componentId","props","theme","menu","extend","Menu","ref","a11yTitle","children","disabled","dropAlign","dropBackground","dropProps","dropTarget","justifyContent","icon","items","label","messages","onKeyDown","open","plain","size","rest","iconColor","icons","color","_theme$menu$drop","drop","themeDropAlign","align","themeDropProps","controlButtonIndex","top","bottom","undefined","_useState","alignControlMirror","setAlignControlMirror","buttonRefs","constants","none","tab","controlTop","controlBottom","_useState2","activeItemIndex","setActiveItemIndex","_useState3","isOpen","setOpen","MenuIcon","up","down","onDropClose","onDropOpen","onSelectMenuItem","event","preventDefault","stopPropagation","click","isTab","keyCode","which","onNextMenuItem","index","focus","onPreviousMenuItem","menuIcon","createElement","buttonProps","content","button","direction","justify","pad","gap","reverse","controlMirror","flex","r","closeMenu","active","focusIndicator","hoverIndicator","onClick","onFocus","tabIndex","onDown","onUp","onEnter","onSpace","onEsc","onTab","openMenu","onAlign","onOpen","onClose","dropContent","shiftKey","background","overflow","map","item","child","option","kind","close","MenuDoc","process","env","NODE_ENV","require","doc","MenuWrapper"],"mappings":"AAAA,SAASA,QAAT,GAAoB;AAAEA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,UAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,WAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,YAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,UAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,WAAOL,MAAP;AAAgB,GAA5P;;AAA8P,SAAOH,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBP,SAArB,CAAP;AAAyC;;AAE7T,SAASQ,6BAAT,CAAuCN,MAAvC,EAA+CO,QAA/C,EAAyD;AAAE,MAAIP,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,MAAIJ,MAAM,GAAG,EAAb;AAAiB,MAAIY,UAAU,GAAGd,MAAM,CAACe,IAAP,CAAYT,MAAZ,CAAjB;AAAsC,MAAIC,GAAJ,EAASJ,CAAT;;AAAY,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGW,UAAU,CAACT,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;AAAEI,IAAAA,GAAG,GAAGO,UAAU,CAACX,CAAD,CAAhB;AAAqB,QAAIU,QAAQ,CAACG,OAAT,CAAiBT,GAAjB,KAAyB,CAA7B,EAAgC;AAAUL,IAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;;AAAC,SAAOL,MAAP;AAAgB;;AAEnT,OAAOe,KAAP,IAAgBC,UAAhB,EAA4BC,WAA5B,EAAyCC,UAAzC,EAAqDC,OAArD,EAA8DC,QAA9D,QAA8E,OAA9E;AACA,OAAOC,MAAP,IAAiBC,YAAjB,QAAqC,mBAArC;AACA,SAASC,YAAT,QAA6B,qBAA7B;AACA,SAASC,GAAT,QAAoB,QAApB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,IAAT,QAAqB,SAArB;AACA,SAASC,cAAT,QAA+B,aAA/B;AACA,IAAIC,YAAY,GAAGT,MAAM,CAACG,GAAD,CAAN,CAAYO,UAAZ,CAAuB;AACxCC,EAAAA,WAAW,EAAE,oBAD2B;AAExCC,EAAAA,WAAW,EAAE;AAF2B,CAAvB,EAGhB,CAAC,uGAAD,EAA0G,GAA1G,CAHgB,EAGgG,UAAUC,KAAV,EAAiB;AAClI,SAAOA,KAAK,CAACC,KAAN,CAAYC,IAAZ,CAAiBC,MAAxB;AACD,CALkB,CAAnB;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,IAAI,GAAG,aAAatB,UAAU,CAAC,UAAUkB,KAAV,EAAiBK,GAAjB,EAAsB;AACvD,MAAIC,SAAS,GAAGN,KAAK,CAACM,SAAtB;AAAA,MACIC,QAAQ,GAAGP,KAAK,CAACO,QADrB;AAAA,MAEIC,QAAQ,GAAGR,KAAK,CAACQ,QAFrB;AAAA,MAGIC,SAAS,GAAGT,KAAK,CAACS,SAHtB;AAAA,MAIIC,cAAc,GAAGV,KAAK,CAACU,cAJ3B;AAAA,MAKIC,SAAS,GAAGX,KAAK,CAACW,SALtB;AAAA,MAMIC,UAAU,GAAGZ,KAAK,CAACY,UANvB;AAAA,MAOIC,cAAc,GAAGb,KAAK,CAACa,cAP3B;AAAA,MAQIC,IAAI,GAAGd,KAAK,CAACc,IARjB;AAAA,MASIC,KAAK,GAAGf,KAAK,CAACe,KATlB;AAAA,MAUIC,KAAK,GAAGhB,KAAK,CAACgB,KAVlB;AAAA,MAWIC,QAAQ,GAAGjB,KAAK,CAACiB,QAXrB;AAAA,MAYIC,SAAS,GAAGlB,KAAK,CAACkB,SAZtB;AAAA,MAaIC,IAAI,GAAGnB,KAAK,CAACmB,IAbjB;AAAA,MAcIC,KAAK,GAAGpB,KAAK,CAACoB,KAdlB;AAAA,MAeIC,IAAI,GAAGrB,KAAK,CAACqB,IAfjB;AAAA,MAgBIC,IAAI,GAAG9C,6BAA6B,CAACwB,KAAD,EAAQ,CAAC,WAAD,EAAc,UAAd,EAA0B,UAA1B,EAAsC,WAAtC,EAAmD,gBAAnD,EAAqE,WAArE,EAAkF,YAAlF,EAAgG,gBAAhG,EAAkH,MAAlH,EAA0H,OAA1H,EAAmI,OAAnI,EAA4I,UAA5I,EAAwJ,WAAxJ,EAAqK,MAArK,EAA6K,OAA7K,EAAsL,MAAtL,CAAR,CAhBxC;;AAkBA,MAAIC,KAAK,GAAGjB,UAAU,CAACI,YAAD,CAAV,IAA4BC,YAAY,CAACY,KAArD;AACA,MAAIsB,SAAS,GAAG5B,cAAc,CAACM,KAAK,CAACC,IAAN,CAAWsB,KAAX,CAAiBC,KAAjB,IAA0B,SAA3B,EAAsCxB,KAAtC,CAA9B,CApBuD,CAoBqB;AAC5E;;AAEA,MAAIyB,gBAAgB,GAAGzB,KAAK,CAACC,IAAN,CAAWyB,IAAlC;AAAA,MACIC,cAAc,GAAGF,gBAAgB,CAACG,KADtC;AAAA,MAEIC,cAAc,GAAGtD,6BAA6B,CAACkD,gBAAD,EAAmB,CAAC,OAAD,CAAnB,CAFlD;;AAIA,MAAIG,KAAK,GAAGlB,SAAS,IAAIA,SAAS,CAACkB,KAAvB,IAAgCpB,SAAhC,IAA6CmB,cAAzD;AACA,MAAIG,kBAAkB,GAAG9C,OAAO,CAAC,YAAY;AAC3C,QAAI4C,KAAK,CAACG,GAAN,KAAc,KAAlB,EAAyB,OAAO,CAAC,CAAR;AACzB,QAAIH,KAAK,CAACI,MAAN,KAAiB,QAArB,EAA+B,OAAOlB,KAAK,CAAC9C,MAAb;AAC/B,WAAOiE,SAAP;AACD,GAJ+B,EAI7B,CAACL,KAAD,EAAQd,KAAR,CAJ6B,CAAhC,CA5BuD,CAgCnC;AACpB;AACA;;AAEA,MAAIoB,SAAS,GAAGjD,QAAQ,EAAxB;AAAA,MACIkD,kBAAkB,GAAGD,SAAS,CAAC,CAAD,CADlC;AAAA,MAEIE,qBAAqB,GAAGF,SAAS,CAAC,CAAD,CAFrC;;AAIA,MAAIG,UAAU,GAAG,EAAjB;AACA,MAAIC,SAAS,GAAGtD,OAAO,CAAC,YAAY;AAClC,WAAO;AACLuD,MAAAA,IAAI,EAAE,MADD;AAELC,MAAAA,GAAG,EAAE,CAFA;AAGL;AACAC,MAAAA,UAAU,EAAEb,KAAK,CAACG,GAAN,KAAc,KAAd,IAAuBE,SAJ9B;AAKL;AACAS,MAAAA,aAAa,EAAEd,KAAK,CAACI,MAAN,KAAiB,QAAjB,IAA6BC,SANvC;AAOLH,MAAAA,kBAAkB,EAAEA;AAPf,KAAP;AASD,GAVsB,EAUpB,CAACF,KAAD,EAAQE,kBAAR,CAVoB,CAAvB;;AAYA,MAAIa,UAAU,GAAG1D,QAAQ,CAACqD,SAAS,CAACC,IAAX,CAAzB;AAAA,MACIK,eAAe,GAAGD,UAAU,CAAC,CAAD,CADhC;AAAA,MAEIE,kBAAkB,GAAGF,UAAU,CAAC,CAAD,CAFnC;;AAIA,MAAIG,UAAU,GAAG7D,QAAQ,CAACiC,IAAI,IAAI,KAAT,CAAzB;AAAA,MACI6B,MAAM,GAAGD,UAAU,CAAC,CAAD,CADvB;AAAA,MAEIE,OAAO,GAAGF,UAAU,CAAC,CAAD,CAFxB;;AAIA,MAAIG,QAAQ,GAAGF,MAAM,IAAI/C,KAAK,CAACC,IAAN,CAAWsB,KAAX,CAAiB2B,EAA3B,GAAgClD,KAAK,CAACC,IAAN,CAAWsB,KAAX,CAAiB2B,EAAjD,GAAsDlD,KAAK,CAACC,IAAN,CAAWsB,KAAX,CAAiB4B,IAAtF;AACA,MAAIC,WAAW,GAAGtE,WAAW,CAAC,YAAY;AACxC+D,IAAAA,kBAAkB,CAACP,SAAS,CAACC,IAAX,CAAlB;AACAS,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAH4B,EAG1B,CAACV,SAAS,CAACC,IAAX,CAH0B,CAA7B;AAIA,MAAIc,UAAU,GAAGvE,WAAW,CAAC,YAAY;AACvCkE,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAF2B,EAEzB,EAFyB,CAA5B;;AAIA,MAAIM,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,KAA1B,EAAiC;AACtD,QAAIR,MAAJ,EAAY;AACV,UAAIH,eAAe,IAAI,CAAvB,EAA0B;AACxBW,QAAAA,KAAK,CAACC,cAAN;AACAD,QAAAA,KAAK,CAACE,eAAN;AACApB,QAAAA,UAAU,CAACO,eAAD,CAAV,CAA4Bc,KAA5B;AACD;AACF,KAND,MAMO;AACLL,MAAAA,UAAU;AACX;AACF,GAVD;;AAYA,MAAIM,KAAK,GAAG,SAASA,KAAT,CAAeJ,KAAf,EAAsB;AAChC,WAAOA,KAAK,CAACK,OAAN,KAAkBtB,SAAS,CAACE,GAA5B,IAAmCe,KAAK,CAACM,KAAN,KAAgBvB,SAAS,CAACE,GAApE;AACD,GAFD;;AAIA,MAAIsB,cAAc,GAAG,SAASA,cAAT,CAAwBP,KAAxB,EAA+B;AAClDA,IAAAA,KAAK,CAACC,cAAN;;AAEA,QAAI,CAACT,MAAL,EAAa;AACXM,MAAAA,UAAU;AACX,KAFD,MAEO,IAAIM,KAAK,CAACJ,KAAD,CAAL,KAAiB,CAACjB,SAAS,CAACI,aAAX,IAA4BE,eAAe,KAAK9B,KAAK,CAAC9C,MAAN,GAAe,CAA/D,IAAoEsE,SAAS,CAACI,aAAV,IAA2BE,eAAe,KAAKd,kBAApI,CAAJ,EAA6J;AAClK;AACA;AACAsB,MAAAA,WAAW;AACZ,KAJM,MAIA;AACL,UAAIW,KAAJ;;AAEA,WAAK;AACL;AACA;AACA;AACAzB,MAAAA,SAAS,CAACI,aAAV,IAA2BE,eAAe,KAAKd,kBAA/C,IAAqE,CAACQ,SAAS,CAACI,aAAX,IAA4BE,eAAe,KAAK9B,KAAK,CAAC9C,MAAN,GAAe,CAApI,IAAyI4E,eAAe,KAAKN,SAAS,CAACC,IAJvK,EAI6K;AAC3K;AACAwB,QAAAA,KAAK,GAAG,CAAR;AACD,OAPD,MAOO;AACLA,QAAAA,KAAK,GAAGnB,eAAe,GAAG,CAA1B;AACD;;AAEDC,MAAAA,kBAAkB,CAACkB,KAAD,CAAlB;AACA1B,MAAAA,UAAU,CAAC0B,KAAD,CAAV,CAAkBC,KAAlB;AACD;AACF,GA1BD;;AA4BA,MAAIC,kBAAkB,GAAG,SAASA,kBAAT,CAA4BV,KAA5B,EAAmC;AAC1DA,IAAAA,KAAK,CAACC,cAAN;;AAEA,QAAI,CAACT,MAAL,EAAa;AACXM,MAAAA,UAAU;AACX,KAFD,MAEO,IAAIM,KAAK,CAACJ,KAAD,CAAL,KAAiBjB,SAAS,CAACG,UAAV,IAAwBG,eAAe,KAAKd,kBAA5C,IAAkE,CAACQ,SAAS,CAACG,UAAX,IAAyBG,eAAe,GAAG,CAAlB,GAAsB,CAAlI,CAAJ,EAA0I;AAC/I;AACA;AACAQ,MAAAA,WAAW;AACZ,KAJM,MAIA;AACL,UAAIW,KAAJ;;AAEA,UAAInB,eAAe,GAAG,CAAlB,GAAsB,CAA1B,EAA6B;AAC3B,YAAIN,SAAS,CAACG,UAAV,IAAwBG,eAAe,GAAG,CAAlB,KAAwBd,kBAApD,EAAwE;AACtEiC,UAAAA,KAAK,GAAGjD,KAAK,CAAC9C,MAAd;AACD,SAFD,MAEO;AACL+F,UAAAA,KAAK,GAAGjD,KAAK,CAAC9C,MAAN,GAAe,CAAvB;AACD;AACF,OAND,MAMO;AACL+F,QAAAA,KAAK,GAAGnB,eAAe,GAAG,CAA1B;AACD;;AAEDC,MAAAA,kBAAkB,CAACkB,KAAD,CAAlB;AACA1B,MAAAA,UAAU,CAAC0B,KAAD,CAAV,CAAkBC,KAAlB;AACD;AACF,GAzBD;;AA2BA,MAAIE,QAAQ,GAAGrD,IAAI,KAAK,KAAT,GAAiBA,IAAI,KAAK,IAAT,IAAiBA,IAAjB,IAAyB,aAAajC,KAAK,CAACuF,aAAN,CAAoBlB,QAApB,EAA8B;AAClGzB,IAAAA,KAAK,EAAEF,SAD2F;AAElGF,IAAAA,IAAI,EAAEA;AAF4F,GAA9B,CAAvD,GAGV,IAHL;AAIA,MAAIgD,WAAW,GAAG;AAChBjD,IAAAA,KAAK,EAAEA,KADS;AAEhBC,IAAAA,IAAI,EAAEA;AAFU,GAAlB;AAIA,MAAIiD,OAAJ;;AAEA,MAAI/D,QAAJ,EAAc;AACZ+D,IAAAA,OAAO,GAAG/D,QAAV;AACD,GAFD,MAEO,IAAI,CAACN,KAAK,CAACsE,MAAN,CAAa,SAAb,CAAL,EAA8B;AACnCD,IAAAA,OAAO,GAAG,aAAazF,KAAK,CAACuF,aAAN,CAAoB9E,GAApB,EAAyB;AAC9CkF,MAAAA,SAAS,EAAE,KADmC;AAE9CC,MAAAA,OAAO,EAAE5D,cAFqC;AAG9CgB,MAAAA,KAAK,EAAE,QAHuC;AAI9C6C,MAAAA,GAAG,EAAE,OAJyC;AAK9CC,MAAAA,GAAG,EAAE3D,KAAK,IAAIF,IAAI,KAAK,KAAlB,GAA0B,OAA1B,GAAoCoB;AALK,KAAzB,EAMpB,aAAarD,KAAK,CAACuF,aAAN,CAAoB1E,IAApB,EAA0B;AACxC2B,MAAAA,IAAI,EAAEA;AADkC,KAA1B,EAEbL,KAFa,CANO,EAQZmD,QARY,CAAvB;AASD,GAVM,MAUA;AACL;AACA;AACAE,IAAAA,WAAW,GAAG;AACZvD,MAAAA,IAAI,EAAEqD,QADM;AAEZnD,MAAAA,KAAK,EAAEA,KAFK;AAGZI,MAAAA,KAAK,EAAEA,KAHK;AAIZwD,MAAAA,OAAO,EAAE,IAJG;AAKZvD,MAAAA,IAAI,EAAEA;AALM,KAAd;AAOAiD,IAAAA,OAAO,GAAGpC,SAAV;AACD;;AAED,MAAI2C,aAAa,GAAG,aAAahG,KAAK,CAACuF,aAAN,CAAoB9E,GAApB,EAAyB;AACxDwF,IAAAA,IAAI,EAAE;AADkD,GAAzB,EAE9B,aAAajG,KAAK,CAACuF,aAAN,CAAoB7E,MAApB,EAA4B5B,QAAQ,CAAC;AACnD0C,IAAAA,GAAG,EAAE,SAASA,GAAT,CAAa0E,CAAb,EAAgB;AACnB;AACAzC,MAAAA,UAAU,CAACvB,KAAK,CAAC9C,MAAP,CAAV,GAA2B8G,CAA3B;AACD,KAJkD;AAKnDzE,IAAAA,SAAS,EAAEA,SAAS,IAAIW,QAAQ,CAAC+D,SAAtB,IAAmC,YALK;AAMnDC,IAAAA,MAAM,EAAEpC,eAAe,KAAKd,kBANuB;AAOnDmD,IAAAA,cAAc,EAAE,KAPmC;AAQnDC,IAAAA,cAAc,EAAE,YARmC;AASnDC,IAAAA,OAAO,EAAE/B,WAT0C;AAUnDgC,IAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,aAAOvC,kBAAkB,CAACf,kBAAD,CAAzB;AACD,KAZkD,CAYjD;AACF;AACA;AAdmD;AAgBnDuD,IAAAA,QAAQ,EAAEzC,eAAe,KAAKN,SAAS,CAACC,IAA9B,GAAqC,IAArC,GAA4CN;AAhBH,GAAD,EAiBjDmC,WAjBiD,CAApC,EAiBC,OAAOC,OAAP,KAAmB,UAAnB,GAAgC,YAAY;AAC3D,WAAOA,OAAO,CAAC3G,QAAQ,CAAC,EAAD,EAAKqC,KAAL,EAAY;AACjC2B,MAAAA,IAAI,EAAE;AAD2B,KAAZ,CAAT,CAAd;AAGD,GAJgB,GAIb2C,OArBY,CAFiB,CAAjC;AAwBA,SAAO,aAAazF,KAAK,CAACuF,aAAN,CAAoB3E,QAApB,EAA8B;AAChD8F,IAAAA,MAAM,EAAExB,cADwC;AAEhDyB,IAAAA,IAAI,EAAEtB,kBAF0C;AAGhDuB,IAAAA,OAAO,EAAElC,gBAHuC;AAIhDmC,IAAAA,OAAO,EAAEnC,gBAJuC;AAKhDoC,IAAAA,KAAK,EAAEtC,WALyC;AAMhDuC,IAAAA,KAAK,EAAEvC,WANyC;AAOhDnC,IAAAA,SAAS,EAAEA;AAPqC,GAA9B,EAQjB,aAAarC,KAAK,CAACuF,aAAN,CAAoB5E,UAApB,EAAgC7B,QAAQ,CAAC;AACvD0C,IAAAA,GAAG,EAAEA;AADkD,GAAD,EAErDiB,IAFqD,EAE/C+C,WAF+C,EAElC;AACpB/D,IAAAA,SAAS,EAAEA,SAAS,IAAIW,QAAQ,CAAC4E,QAAtB,IAAkC,WADzB;AAEpBC,IAAAA,OAAO,EAAEzD,qBAFW;AAGpB7B,IAAAA,QAAQ,EAAEA,QAHU;AAIpBC,IAAAA,SAAS,EAAEoB,KAJS;AAKpBjB,IAAAA,UAAU,EAAEA,UALQ;AAMpBD,IAAAA,SAAS,EAAEA,SAAS,IAAImB,cANJ;AAOpBX,IAAAA,IAAI,EAAE6B,MAPc;AAQpB+C,IAAAA,MAAM,EAAEzC,UARY;AASpB0C,IAAAA,OAAO,EAAE3C,WATW;AAUpB4C,IAAAA,WAAW,EAAE,aAAapH,KAAK,CAACuF,aAAN,CAAoB3E,QAApB,EAA8B;AACtDmG,MAAAA,KAAK,EAAE,SAASA,KAAT,CAAepC,KAAf,EAAsB;AAC3B,eAAOA,KAAK,CAAC0C,QAAN,GAAiBhC,kBAAkB,CAACV,KAAD,CAAnC,GAA6CO,cAAc,CAACP,KAAD,CAAlE;AACD,OAHqD;AAItDiC,MAAAA,OAAO,EAAElC;AAJ6C,KAA9B,EAKvB,aAAa1E,KAAK,CAACuF,aAAN,CAAoBxE,YAApB,EAAkC;AAChDuG,MAAAA,UAAU,EAAEzF,cAAc,IAAIT,KAAK,CAACC,IAAN,CAAWiG;AADO,KAAlC,EAEb/D,kBAAkB,KAAK,KAAvB,IAAgCP,KAAK,CAACG,GAAN,KAAc,KAA9C,GAAsD6C,aAAtD,GAAsE3C,SAFzD,EAEoE,aAAarD,KAAK,CAACuF,aAAN,CAAoB9E,GAApB,EAAyB;AACxH8G,MAAAA,QAAQ,EAAE;AAD8G,KAAzB,EAE9FrF,KAAK,CAACsF,GAAN,CAAU,UAAUC,IAAV,EAAgBtC,KAAhB,EAAuB;AAClC;AACA;AACA,UAAIuC,KAAK,GAAG,CAACtG,KAAK,CAACsE,MAAN,CAAaiC,MAAd,GAAuB,aAAa3H,KAAK,CAACuF,aAAN,CAAoB9E,GAApB,EAAyB;AACvEuC,QAAAA,KAAK,EAAE,OADgE;AAEvE6C,QAAAA,GAAG,EAAE,OAFkE;AAGvEF,QAAAA,SAAS,EAAE,KAH4D;AAIvEG,QAAAA,GAAG,EAAE2B,IAAI,CAAC3B;AAJ6D,OAAzB,EAK7C2B,IAAI,CAAC1B,OAAL,IAAgB0B,IAAI,CAACtF,KALwB,EAKjBsF,IAAI,CAACxF,IALY,EAKN,CAACwF,IAAI,CAAC1B,OAAN,IAAiB0B,IAAI,CAACtF,KALhB,CAApC,GAK6DkB,SALzE,CAHkC,CAQkD;;AAEpF;AACE;AACA;AACArD,QAAAA,KAAK,CAACuF,aAAN,CAAoB9E,GAApB,EAAyB;AACvBnB,UAAAA,GAAG,EAAE6F,KADkB;AAEvBc,UAAAA,IAAI,EAAE;AAFiB,SAAzB,EAGG,aAAajG,KAAK,CAACuF,aAAN,CAAoB7E,MAApB,EAA4B5B,QAAQ,CAAC;AACnD0C,UAAAA,GAAG,EAAE,SAASA,GAAT,CAAa0E,CAAb,EAAgB;AACnBzC,YAAAA,UAAU,CAAC0B,KAAD,CAAV,GAAoBe,CAApB;AACD,WAHkD;AAInDM,UAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,mBAAOvC,kBAAkB,CAACkB,KAAD,CAAzB;AACD,WANkD;AAOnDiB,UAAAA,MAAM,EAAEpC,eAAe,KAAKmB,KAPuB;AAQnDkB,UAAAA,cAAc,EAAE,KARmC;AASnD9D,UAAAA,KAAK,EAAE,CAACmF,KAAD,GAASrE,SAAT,GAAqB,IATuB;AAUnDL,UAAAA,KAAK,EAAE,OAV4C;AAWnD4E,UAAAA,IAAI,EAAE,CAACF,KAAD,GAAS,QAAT,GAAoBrE,SAXyB;AAYnDiD,UAAAA,cAAc,EAAE,CAACoB,KAAD,GAASrE,SAAT,GAAqB;AAZc,SAAD,EAajD,CAACqE,KAAD,GAASD,IAAT,GAAgB3I,QAAQ,CAAC,EAAD,EAAK2I,IAAL,EAAW;AACpC3B,UAAAA,GAAG,EAAEzC,SAD+B;AAEpCpB,UAAAA,IAAI,EAAEoB,SAF8B;AAGpClB,UAAAA,KAAK,EAAEkB,SAH6B;AAIpC0C,UAAAA,OAAO,EAAE1C;AAJ2B,SAAX,CAbyB,EAkBhD;AACFkD,UAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,gBAAIkB,IAAI,CAAClB,OAAT,EAAkB;AAChBkB,cAAAA,IAAI,CAAClB,OAAL,CAAa7G,KAAb,CAAmB+H,IAAnB,EAAyBtI,SAAzB;AACD;;AAED,gBAAIsI,IAAI,CAACI,KAAL,KAAe,KAAnB,EAA0B;AACxBrD,cAAAA,WAAW;AACZ;AACF;AATC,SAlBgD,CAApC,EA4BZkD,KA5BY,CAHhB;AAHF;AAoCD,KA9CE,CAF8F,CAFjF,EAkDXnE,kBAAkB,KAAK,QAAvB,IAAmCP,KAAK,CAACI,MAAN,KAAiB,QAApD,GAA+D4C,aAA/D,GAA+E3C,SAlDpE,CALU;AAVN,GAFkC,CAAxC,EAoEZoC,OApEY,CARI,CAApB;AA6ED,CArRiC,CAAlC;AAsRAlE,IAAI,CAACf,YAAL,GAAoB;AAClB0B,EAAAA,KAAK,EAAE,EADW;AAElBE,EAAAA,QAAQ,EAAE;AACR4E,IAAAA,QAAQ,EAAE,WADF;AAERb,IAAAA,SAAS,EAAE;AAFH,GAFQ;AAMlBnE,EAAAA,cAAc,EAAE;AANE,CAApB;AAQAT,IAAI,CAACN,WAAL,GAAmB,MAAnB;AACA,IAAI6G,OAAJ;;AAEA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzCH,EAAAA,OAAO,GAAGI,OAAO,CAAC,OAAD,CAAP,CAAiBC,GAAjB,CAAqB5G,IAArB,CAAV,CADyC,CACH;AACvC;;AAED,IAAI6G,WAAW,GAAGN,OAAO,IAAIvG,IAA7B;AACA,SAAS6G,WAAW,IAAI7G,IAAxB","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useCallback, useContext, useMemo, useState } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport { defaultProps } from '../../default-props';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { DropButton } from '../DropButton';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { normalizeColor } from '../../utils';\nvar ContainerBox = styled(Box).withConfig({\n  displayName: \"Menu__ContainerBox\",\n  componentId: \"sc-17fcys9-0\"\n})([\"max-height:inherit;@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}\", \";\"], function (props) {\n  return props.theme.menu.extend;\n});\n/* Notes on keyboard interactivity (based on W3) // For details reference: https://www.w3.org/TR/wai-aria-practices/#menu\n\nTo open menu when menu button is focused:\n- Space/Enter/Up arrow/Down arrow will open menu\n\nTo navigate within menu:\n- Up/down arrow keys can be used and will loop through options\n(keeping focus within the Menu)\n- Tab can be used, but once the last menu item is reached, Tab will close the\nMenu and continue through page content.\n\nTo close the menu:\n- Tabbing beyond the first or last menu item.\n- Esc will close the menu\n- Select a menu item\n\nTo make a selection:\n- Enter key is pressed.\n- Space is pressed.\n*/\n\nvar Menu = /*#__PURE__*/forwardRef(function (props, ref) {\n  var a11yTitle = props.a11yTitle,\n      children = props.children,\n      disabled = props.disabled,\n      dropAlign = props.dropAlign,\n      dropBackground = props.dropBackground,\n      dropProps = props.dropProps,\n      dropTarget = props.dropTarget,\n      justifyContent = props.justifyContent,\n      icon = props.icon,\n      items = props.items,\n      label = props.label,\n      messages = props.messages,\n      onKeyDown = props.onKeyDown,\n      open = props.open,\n      plain = props.plain,\n      size = props.size,\n      rest = _objectWithoutPropertiesLoose(props, [\"a11yTitle\", \"children\", \"disabled\", \"dropAlign\", \"dropBackground\", \"dropProps\", \"dropTarget\", \"justifyContent\", \"icon\", \"items\", \"label\", \"messages\", \"onKeyDown\", \"open\", \"plain\", \"size\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  var iconColor = normalizeColor(theme.menu.icons.color || 'control', theme); // need to destructure the align otherwise it will get passed through\n  // to DropButton and override prop values\n\n  var _theme$menu$drop = theme.menu.drop,\n      themeDropAlign = _theme$menu$drop.align,\n      themeDropProps = _objectWithoutPropertiesLoose(_theme$menu$drop, [\"align\"]);\n\n  var align = dropProps && dropProps.align || dropAlign || themeDropAlign;\n  var controlButtonIndex = useMemo(function () {\n    if (align.top === 'top') return -1;\n    if (align.bottom === 'bottom') return items.length;\n    return undefined;\n  }, [align, items]); // Keeps track of whether menu options should be mirrored\n  // when there's not enough space below DropButton. This state\n  // is modified on /Drop/DropContainer.js.\n\n  var _useState = useState(),\n      alignControlMirror = _useState[0],\n      setAlignControlMirror = _useState[1];\n\n  var buttonRefs = {};\n  var constants = useMemo(function () {\n    return {\n      none: 'none',\n      tab: 9,\n      // Menu control button included on top of menu items\n      controlTop: align.top === 'top' || undefined,\n      // Menu control button included on the bottom of menu items\n      controlBottom: align.bottom === 'bottom' || undefined,\n      controlButtonIndex: controlButtonIndex\n    };\n  }, [align, controlButtonIndex]);\n\n  var _useState2 = useState(constants.none),\n      activeItemIndex = _useState2[0],\n      setActiveItemIndex = _useState2[1];\n\n  var _useState3 = useState(open || false),\n      isOpen = _useState3[0],\n      setOpen = _useState3[1];\n\n  var MenuIcon = isOpen && theme.menu.icons.up ? theme.menu.icons.up : theme.menu.icons.down;\n  var onDropClose = useCallback(function () {\n    setActiveItemIndex(constants.none);\n    setOpen(false);\n  }, [constants.none]);\n  var onDropOpen = useCallback(function () {\n    setOpen(true);\n  }, []);\n\n  var onSelectMenuItem = function onSelectMenuItem(event) {\n    if (isOpen) {\n      if (activeItemIndex >= 0) {\n        event.preventDefault();\n        event.stopPropagation();\n        buttonRefs[activeItemIndex].click();\n      }\n    } else {\n      onDropOpen();\n    }\n  };\n\n  var isTab = function isTab(event) {\n    return event.keyCode === constants.tab || event.which === constants.tab;\n  };\n\n  var onNextMenuItem = function onNextMenuItem(event) {\n    event.preventDefault();\n\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (!constants.controlBottom && activeItemIndex === items.length - 1 || constants.controlBottom && activeItemIndex === controlButtonIndex)) {\n      // User has reached end of the menu, this tab will close\n      // the menu drop because there are no more \"next items\" to access\n      onDropClose();\n    } else {\n      var index;\n\n      if ( // This checks if the user has reached the end of the menu.\n      // In the case the the menu control button is located at the\n      // bottom of the menu, it checks if the user has reached the button.\n      // Otherwise, it checks if the user is at the last menu item.\n      constants.controlBottom && activeItemIndex === controlButtonIndex || !constants.controlBottom && activeItemIndex === items.length - 1 || activeItemIndex === constants.none) {\n        // place focus on the first menu item\n        index = 0;\n      } else {\n        index = activeItemIndex + 1;\n      }\n\n      setActiveItemIndex(index);\n      buttonRefs[index].focus();\n    }\n  };\n\n  var onPreviousMenuItem = function onPreviousMenuItem(event) {\n    event.preventDefault();\n\n    if (!isOpen) {\n      onDropOpen();\n    } else if (isTab(event) && (constants.controlTop && activeItemIndex === controlButtonIndex || !constants.controlTop && activeItemIndex - 1 < 0)) {\n      // User has reached beginning of the menu, this tab will close\n      // the menu drop because there are no more \"previous items\" to access\n      onDropClose();\n    } else {\n      var index;\n\n      if (activeItemIndex - 1 < 0) {\n        if (constants.controlTop && activeItemIndex - 1 === controlButtonIndex) {\n          index = items.length;\n        } else {\n          index = items.length - 1;\n        }\n      } else {\n        index = activeItemIndex - 1;\n      }\n\n      setActiveItemIndex(index);\n      buttonRefs[index].focus();\n    }\n  };\n\n  var menuIcon = icon !== false ? icon !== true && icon || /*#__PURE__*/React.createElement(MenuIcon, {\n    color: iconColor,\n    size: size\n  }) : null;\n  var buttonProps = {\n    plain: plain,\n    size: size\n  };\n  var content;\n\n  if (children) {\n    content = children;\n  } else if (!theme.button[\"default\"]) {\n    content = /*#__PURE__*/React.createElement(Box, {\n      direction: \"row\",\n      justify: justifyContent,\n      align: \"center\",\n      pad: \"small\",\n      gap: label && icon !== false ? 'small' : undefined\n    }, /*#__PURE__*/React.createElement(Text, {\n      size: size\n    }, label), menuIcon);\n  } else {\n    // when a theme has theme.button.default, keep content as\n    // undefined so we can rely on Button label & icon props\n    buttonProps = {\n      icon: menuIcon,\n      label: label,\n      plain: plain,\n      reverse: true,\n      size: size\n    };\n    content = undefined;\n  }\n\n  var controlMirror = /*#__PURE__*/React.createElement(Box, {\n    flex: false\n  }, /*#__PURE__*/React.createElement(Button, _extends({\n    ref: function ref(r) {\n      // make it accessible at the end of all menu items\n      buttonRefs[items.length] = r;\n    },\n    a11yTitle: a11yTitle || messages.closeMenu || 'Close Menu',\n    active: activeItemIndex === controlButtonIndex,\n    focusIndicator: false,\n    hoverIndicator: \"background\",\n    onClick: onDropClose,\n    onFocus: function onFocus() {\n      return setActiveItemIndex(controlButtonIndex);\n    } // On first tab into menu, the control button should not\n    // be able to receive tab focus because the focus should\n    // go to the first menu item instead.\n    ,\n    tabIndex: activeItemIndex === constants.none ? '-1' : undefined\n  }, buttonProps), typeof content === 'function' ? function () {\n    return content(_extends({}, props, {\n      drop: true\n    }));\n  } : content));\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onDown: onNextMenuItem,\n    onUp: onPreviousMenuItem,\n    onEnter: onSelectMenuItem,\n    onSpace: onSelectMenuItem,\n    onEsc: onDropClose,\n    onTab: onDropClose,\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(DropButton, _extends({\n    ref: ref\n  }, rest, buttonProps, {\n    a11yTitle: a11yTitle || messages.openMenu || 'Open Menu',\n    onAlign: setAlignControlMirror,\n    disabled: disabled,\n    dropAlign: align,\n    dropTarget: dropTarget,\n    dropProps: dropProps || themeDropProps,\n    open: isOpen,\n    onOpen: onDropOpen,\n    onClose: onDropClose,\n    dropContent: /*#__PURE__*/React.createElement(Keyboard, {\n      onTab: function onTab(event) {\n        return event.shiftKey ? onPreviousMenuItem(event) : onNextMenuItem(event);\n      },\n      onEnter: onSelectMenuItem\n    }, /*#__PURE__*/React.createElement(ContainerBox, {\n      background: dropBackground || theme.menu.background\n    }, alignControlMirror === 'top' && align.top === 'top' ? controlMirror : undefined, /*#__PURE__*/React.createElement(Box, {\n      overflow: \"auto\"\n    }, items.map(function (item, index) {\n      // Determine whether the label is done as a child or\n      // as an option Button kind property.\n      var child = !theme.button.option ? /*#__PURE__*/React.createElement(Box, {\n        align: \"start\",\n        pad: \"small\",\n        direction: \"row\",\n        gap: item.gap\n      }, item.reverse && item.label, item.icon, !item.reverse && item.label) : undefined; // if we have a child, turn on plain, and hoverIndicator\n\n      return (\n        /*#__PURE__*/\n        // eslint-disable-next-line react/no-array-index-key\n        React.createElement(Box, {\n          key: index,\n          flex: false\n        }, /*#__PURE__*/React.createElement(Button, _extends({\n          ref: function ref(r) {\n            buttonRefs[index] = r;\n          },\n          onFocus: function onFocus() {\n            return setActiveItemIndex(index);\n          },\n          active: activeItemIndex === index,\n          focusIndicator: false,\n          plain: !child ? undefined : true,\n          align: \"start\",\n          kind: !child ? 'option' : undefined,\n          hoverIndicator: !child ? undefined : 'background'\n        }, !child ? item : _extends({}, item, {\n          gap: undefined,\n          icon: undefined,\n          label: undefined,\n          reverse: undefined\n        }), {\n          onClick: function onClick() {\n            if (item.onClick) {\n              item.onClick.apply(item, arguments);\n            }\n\n            if (item.close !== false) {\n              onDropClose();\n            }\n          }\n        }), child))\n      );\n    })), alignControlMirror === 'bottom' || align.bottom === 'bottom' ? controlMirror : undefined))\n  }), content));\n});\nMenu.defaultProps = {\n  items: [],\n  messages: {\n    openMenu: 'Open Menu',\n    closeMenu: 'Close Menu'\n  },\n  justifyContent: 'start'\n};\nMenu.displayName = 'Menu';\nvar MenuDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  MenuDoc = require('./doc').doc(Menu); // eslint-disable-line global-require\n}\n\nvar MenuWrapper = MenuDoc || Menu;\nexport { MenuWrapper as Menu };"]},"metadata":{},"sourceType":"module"}