{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, useEffect, useState } from 'react';\nimport { Analog } from './Analog';\nimport { Digital } from './Digital';\nvar TIME_REGEXP = /T([0-9]{2}):([0-9]{2})(?::([0-9.,]{2,}))?/;\nvar DURATION_REGEXP = /^(-|\\+)?P.*T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?$/;\n\nvar parseTime = function parseTime(time, hourLimit) {\n  var result = {};\n\n  if (time) {\n    var match = DURATION_REGEXP.exec(time);\n\n    if (match) {\n      result.hours = parseFloat(match[2]);\n\n      if (hourLimit === 12) {\n        result.hours12 = result.hours > 12 ? result.hours - 12 : result.hours;\n      }\n\n      result.minutes = parseFloat(match[3]) || 0;\n      result.seconds = parseFloat(match[4]) || 0;\n      result.duration = true;\n    } else {\n      match = TIME_REGEXP.exec(time);\n\n      if (match) {\n        result.hours = parseFloat(match[1]);\n\n        if (hourLimit === 12) {\n          result.hours12 = result.hours > 12 ? result.hours - 12 : result.hours;\n        }\n\n        result.minutes = parseFloat(match[2]) || 0;\n        result.seconds = parseFloat(match[3]) || 0;\n      } else {\n        console.error(\"Grommet Clock cannot parse '\" + time + \"'\");\n      }\n    }\n  } else {\n    var date = new Date();\n    result.hours = date.getHours();\n    result.minutes = date.getMinutes();\n    result.seconds = date.getSeconds();\n  }\n\n  return result;\n};\n\nvar Clock = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$hourLimit = _ref.hourLimit,\n      hourLimit = _ref$hourLimit === void 0 ? 24 : _ref$hourLimit,\n      onChange = _ref.onChange,\n      _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? 'seconds' : _ref$precision,\n      _ref$run = _ref.run,\n      run = _ref$run === void 0 ? 'forward' : _ref$run,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 'medium' : _ref$size,\n      time = _ref.time,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? 'analog' : _ref$type,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"hourLimit\", \"onChange\", \"precision\", \"run\", \"size\", \"time\", \"type\"]);\n\n  var _useState = useState(parseTime(time, hourLimit)),\n      elements = _useState[0],\n      setElements = _useState[1];\n\n  useEffect(function () {\n    return setElements(parseTime(time, hourLimit));\n  }, [hourLimit, time]);\n  useEffect(function () {\n    var atDurationEnd = run === 'backward' && elements.duration && !elements.hours && !elements.minutes && !elements.seconds;\n\n    if (run && !atDurationEnd) {\n      // set the interval time based on the precision\n      var interval = 1000;\n      var increment = 'seconds';\n\n      if (precision !== 'seconds' && elements.seconds === 0) {\n        interval *= 60;\n        increment = 'minutes';\n\n        if (precision !== 'minutes' && elements.minutes === 0) {\n          interval *= 60;\n          increment = 'hours';\n        }\n      }\n\n      var timer = setInterval(function () {\n        var nextElements = _extends({}, elements); // adjust time based on precision\n\n\n        if (increment === 'seconds') {\n          if (run === 'backward') {\n            nextElements.seconds -= 1;\n          } else {\n            nextElements.seconds += 1;\n          }\n        } else if (increment === 'minutes') {\n          if (run === 'backward') {\n            nextElements.minutes -= 1;\n          } else {\n            nextElements.minutes += 1;\n          }\n        } else if (increment === 'hours') {\n          if (run === 'backward') {\n            nextElements.hours -= 1;\n          } else {\n            nextElements.hours += 1;\n          }\n        } // deal with overflows\n\n\n        if (nextElements.seconds >= 60) {\n          nextElements.minutes += Math.floor(nextElements.seconds / 60);\n          nextElements.seconds = 0;\n        } else if (nextElements.seconds < 0) {\n          nextElements.minutes += Math.floor(nextElements.seconds / 60);\n          nextElements.seconds = 59;\n        }\n\n        if (nextElements.minutes >= 60) {\n          nextElements.hours += Math.floor(nextElements.minutes / 60);\n          nextElements.minutes = 0;\n        } else if (nextElements.minutes < 0) {\n          nextElements.hours += Math.floor(nextElements.minutes / 60);\n          nextElements.minutes = 59;\n        }\n\n        if (nextElements.hours >= 24 || nextElements.hours < 0) {\n          nextElements.hours = 0;\n        }\n\n        if (hourLimit === 12) {\n          nextElements.hours12 = nextElements.hours > 12 ? nextElements.hours - 12 : nextElements.hours;\n        }\n\n        setElements(nextElements);\n\n        if (onChange) {\n          var e = nextElements;\n\n          if (e.duration) {\n            onChange(\"P\" + e.hours + \"H\" + e.minutes + \"M\" + e.seconds + \"S\");\n          } else {\n            onChange(\"T\" + e.hours + \":\" + e.minutes + \":\" + e.seconds);\n          }\n        }\n      }, interval);\n      return function () {\n        return clearInterval(timer);\n      };\n    }\n\n    return undefined;\n  }, [elements, hourLimit, onChange, precision, run]);\n  var content;\n\n  if (type === 'analog') {\n    content = /*#__PURE__*/React.createElement(Analog, _extends({\n      ref: ref,\n      elements: elements,\n      precision: precision,\n      size: size\n    }, rest));\n  } else if (type === 'digital') {\n    content = /*#__PURE__*/React.createElement(Digital, _extends({\n      ref: ref,\n      elements: elements,\n      precision: precision,\n      run: run,\n      size: size\n    }, rest));\n  }\n\n  return content;\n});\nClock.displayName = 'Clock';\nvar ClockDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  ClockDoc = require('./doc').doc(Clock); // eslint-disable-line global-require\n}\n\nvar ClockWrapper = ClockDoc || Clock;\nexport { ClockWrapper as Clock };","map":{"version":3,"sources":["C:/Users/antaresofficial/Desktop/tree/node_modules/grommet/es6/components/Clock/Clock.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","useEffect","useState","Analog","Digital","TIME_REGEXP","DURATION_REGEXP","parseTime","time","hourLimit","result","match","exec","hours","parseFloat","hours12","minutes","seconds","duration","console","error","date","Date","getHours","getMinutes","getSeconds","Clock","_ref","ref","_ref$hourLimit","onChange","_ref$precision","precision","_ref$run","run","_ref$size","size","_ref$type","type","rest","_useState","elements","setElements","atDurationEnd","interval","increment","timer","setInterval","nextElements","Math","floor","e","clearInterval","undefined","content","createElement","displayName","ClockDoc","process","env","NODE_ENV","require","doc","ClockWrapper"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, useEffect, useState } from 'react';\nimport { Analog } from './Analog';\nimport { Digital } from './Digital';\nvar TIME_REGEXP = /T([0-9]{2}):([0-9]{2})(?::([0-9.,]{2,}))?/;\nvar DURATION_REGEXP = /^(-|\\+)?P.*T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?$/;\n\nvar parseTime = function parseTime(time, hourLimit) {\n  var result = {};\n\n  if (time) {\n    var match = DURATION_REGEXP.exec(time);\n\n    if (match) {\n      result.hours = parseFloat(match[2]);\n\n      if (hourLimit === 12) {\n        result.hours12 = result.hours > 12 ? result.hours - 12 : result.hours;\n      }\n\n      result.minutes = parseFloat(match[3]) || 0;\n      result.seconds = parseFloat(match[4]) || 0;\n      result.duration = true;\n    } else {\n      match = TIME_REGEXP.exec(time);\n\n      if (match) {\n        result.hours = parseFloat(match[1]);\n\n        if (hourLimit === 12) {\n          result.hours12 = result.hours > 12 ? result.hours - 12 : result.hours;\n        }\n\n        result.minutes = parseFloat(match[2]) || 0;\n        result.seconds = parseFloat(match[3]) || 0;\n      } else {\n        console.error(\"Grommet Clock cannot parse '\" + time + \"'\");\n      }\n    }\n  } else {\n    var date = new Date();\n    result.hours = date.getHours();\n    result.minutes = date.getMinutes();\n    result.seconds = date.getSeconds();\n  }\n\n  return result;\n};\n\nvar Clock = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var _ref$hourLimit = _ref.hourLimit,\n      hourLimit = _ref$hourLimit === void 0 ? 24 : _ref$hourLimit,\n      onChange = _ref.onChange,\n      _ref$precision = _ref.precision,\n      precision = _ref$precision === void 0 ? 'seconds' : _ref$precision,\n      _ref$run = _ref.run,\n      run = _ref$run === void 0 ? 'forward' : _ref$run,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 'medium' : _ref$size,\n      time = _ref.time,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? 'analog' : _ref$type,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"hourLimit\", \"onChange\", \"precision\", \"run\", \"size\", \"time\", \"type\"]);\n\n  var _useState = useState(parseTime(time, hourLimit)),\n      elements = _useState[0],\n      setElements = _useState[1];\n\n  useEffect(function () {\n    return setElements(parseTime(time, hourLimit));\n  }, [hourLimit, time]);\n  useEffect(function () {\n    var atDurationEnd = run === 'backward' && elements.duration && !elements.hours && !elements.minutes && !elements.seconds;\n\n    if (run && !atDurationEnd) {\n      // set the interval time based on the precision\n      var interval = 1000;\n      var increment = 'seconds';\n\n      if (precision !== 'seconds' && elements.seconds === 0) {\n        interval *= 60;\n        increment = 'minutes';\n\n        if (precision !== 'minutes' && elements.minutes === 0) {\n          interval *= 60;\n          increment = 'hours';\n        }\n      }\n\n      var timer = setInterval(function () {\n        var nextElements = _extends({}, elements); // adjust time based on precision\n\n\n        if (increment === 'seconds') {\n          if (run === 'backward') {\n            nextElements.seconds -= 1;\n          } else {\n            nextElements.seconds += 1;\n          }\n        } else if (increment === 'minutes') {\n          if (run === 'backward') {\n            nextElements.minutes -= 1;\n          } else {\n            nextElements.minutes += 1;\n          }\n        } else if (increment === 'hours') {\n          if (run === 'backward') {\n            nextElements.hours -= 1;\n          } else {\n            nextElements.hours += 1;\n          }\n        } // deal with overflows\n\n\n        if (nextElements.seconds >= 60) {\n          nextElements.minutes += Math.floor(nextElements.seconds / 60);\n          nextElements.seconds = 0;\n        } else if (nextElements.seconds < 0) {\n          nextElements.minutes += Math.floor(nextElements.seconds / 60);\n          nextElements.seconds = 59;\n        }\n\n        if (nextElements.minutes >= 60) {\n          nextElements.hours += Math.floor(nextElements.minutes / 60);\n          nextElements.minutes = 0;\n        } else if (nextElements.minutes < 0) {\n          nextElements.hours += Math.floor(nextElements.minutes / 60);\n          nextElements.minutes = 59;\n        }\n\n        if (nextElements.hours >= 24 || nextElements.hours < 0) {\n          nextElements.hours = 0;\n        }\n\n        if (hourLimit === 12) {\n          nextElements.hours12 = nextElements.hours > 12 ? nextElements.hours - 12 : nextElements.hours;\n        }\n\n        setElements(nextElements);\n\n        if (onChange) {\n          var e = nextElements;\n\n          if (e.duration) {\n            onChange(\"P\" + e.hours + \"H\" + e.minutes + \"M\" + e.seconds + \"S\");\n          } else {\n            onChange(\"T\" + e.hours + \":\" + e.minutes + \":\" + e.seconds);\n          }\n        }\n      }, interval);\n      return function () {\n        return clearInterval(timer);\n      };\n    }\n\n    return undefined;\n  }, [elements, hourLimit, onChange, precision, run]);\n  var content;\n\n  if (type === 'analog') {\n    content = /*#__PURE__*/React.createElement(Analog, _extends({\n      ref: ref,\n      elements: elements,\n      precision: precision,\n      size: size\n    }, rest));\n  } else if (type === 'digital') {\n    content = /*#__PURE__*/React.createElement(Digital, _extends({\n      ref: ref,\n      elements: elements,\n      precision: precision,\n      run: run,\n      size: size\n    }, rest));\n  }\n\n  return content;\n});\nClock.displayName = 'Clock';\nvar ClockDoc;\n\nif (process.env.NODE_ENV !== 'production') {\n  ClockDoc = require('./doc').doc(Clock); // eslint-disable-line global-require\n}\n\nvar ClockWrapper = ClockDoc || Clock;\nexport { ClockWrapper as Clock };"]},"metadata":{},"sourceType":"module"}