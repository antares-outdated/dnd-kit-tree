{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef, Fragment, useContext } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { Cell } from './Cell';\nimport { ExpanderCell } from './ExpanderCell';\nimport { StyledDataTableBody, StyledDataTableRow } from './StyledDataTable';\nimport { CheckBox } from '../CheckBox/CheckBox';\nimport { TableCell } from '../TableCell';\nimport { datumValue } from './buildState';\nexport var GroupedBody = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var background = _ref.background,\n      border = _ref.border,\n      columns = _ref.columns,\n      groupBy = _ref.groupBy,\n      groups = _ref.groups,\n      groupState = _ref.groupState,\n      pad = _ref.pad,\n      primaryProperty = _ref.primaryProperty,\n      onSelect = _ref.onSelect,\n      onToggle = _ref.onToggle,\n      selected = _ref.selected,\n      size = _ref.size,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"background\", \"border\", \"columns\", \"groupBy\", \"groups\", \"groupState\", \"pad\", \"primaryProperty\", \"onSelect\", \"onToggle\", \"selected\", \"size\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  return /*#__PURE__*/React.createElement(StyledDataTableBody, _extends({\n    ref: ref,\n    size: size\n  }, rest), groups.map(function (group) {\n    var expanded = groupState[group.key].expanded;\n    var memberCount = group.data.length;\n    var primaryKeys = [];\n\n    if (group.data.length) {\n      group.data.forEach(function (datum) {\n        primaryKeys.push(datum[primaryProperty]);\n      });\n    }\n\n    var groupSelected = primaryKeys && selected ? primaryKeys.filter(function (val) {\n      return selected.includes(val);\n    }) : [];\n    var isGroupSelected = groupSelected.length > 0 && group.data.length > 0 && groupSelected.length === group.data.length;\n    var content = memberCount > 1 ? /*#__PURE__*/React.createElement(StyledDataTableRow, {\n      key: group.key,\n      size: size\n    }, /*#__PURE__*/React.createElement(ExpanderCell, {\n      context: expanded ? 'groupHeader' : 'body',\n      expanded: expanded,\n      onToggle: onToggle(group.key)\n    }), (selected || onSelect) && /*#__PURE__*/React.createElement(TableCell, {\n      background: background,\n      plain: \"noPad\",\n      size: \"auto\"\n    }, /*#__PURE__*/React.createElement(CheckBox, {\n      a11yTitle: (isGroupSelected ? 'unselect' : 'select') + \" \" + group.key,\n      checked: isGroupSelected,\n      indeterminate: groupSelected.length > 0 && groupSelected.length < group.data.length,\n      disabled: !onSelect,\n      onChange: function onChange() {\n        if (isGroupSelected) {\n          onSelect(selected.filter(function (s) {\n            return !groupSelected.includes(s);\n          }));\n        } else {\n          onSelect([].concat(selected, primaryKeys));\n        }\n      },\n      pad: pad || theme.table.body.pad\n    })), columns.map(function (column) {\n      return /*#__PURE__*/React.createElement(Cell, {\n        key: column.property,\n        background: background,\n        border: border,\n        context: expanded ? 'groupHeader' : 'body',\n        column: column,\n        datum: group.datum,\n        pad: pad,\n        scope: column.property === groupBy ? 'row' : undefined\n      });\n    })) : null;\n\n    if (memberCount === 1 || expanded) {\n      content = /*#__PURE__*/React.createElement(Fragment, {\n        key: group.key\n      }, content, group.data.map(function (datum, index) {\n        var primaryValue = primaryProperty ? datumValue(datum, primaryProperty) : undefined;\n        var isSelected = selected && selected.includes(primaryValue);\n        var context = memberCount > 1 && index === memberCount - 1 ? 'groupEnd' : 'body';\n        return /*#__PURE__*/React.createElement(StyledDataTableRow, {\n          key: datum[primaryProperty],\n          size: size\n        }, /*#__PURE__*/React.createElement(ExpanderCell, {\n          context: context\n        }), (selected || onSelect) && /*#__PURE__*/React.createElement(TableCell, {\n          background: background,\n          plain: \"noPad\",\n          size: \"auto\"\n        }, /*#__PURE__*/React.createElement(CheckBox, {\n          a11yTitle: (isSelected ? 'unselect' : 'select') + \" \" + primaryValue,\n          checked: isSelected,\n          disabled: !onSelect,\n          onChange: function onChange() {\n            if (isSelected) {\n              onSelect(selected.filter(function (s) {\n                return s !== primaryValue;\n              }));\n            } else onSelect([].concat(selected, [primaryValue]));\n          },\n          pad: pad || theme.table.body.pad\n        })), columns.map(function (column) {\n          return /*#__PURE__*/React.createElement(Cell, {\n            key: column.property,\n            background: background,\n            border: border,\n            context: context,\n            column: column,\n            datum: datum,\n            pad: pad,\n            scope: column.primary ? 'row' : undefined\n          });\n        }));\n      }));\n    }\n\n    return content;\n  }));\n});","map":{"version":3,"sources":["C:/Users/antaresofficial/Desktop/tree/node_modules/grommet/es6/components/DataTable/GroupedBody.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","forwardRef","Fragment","useContext","ThemeContext","Cell","ExpanderCell","StyledDataTableBody","StyledDataTableRow","CheckBox","TableCell","datumValue","GroupedBody","_ref","ref","background","border","columns","groupBy","groups","groupState","pad","primaryProperty","onSelect","onToggle","selected","size","rest","theme","defaultProps","createElement","map","group","expanded","memberCount","data","primaryKeys","forEach","datum","push","groupSelected","filter","val","includes","isGroupSelected","content","context","plain","a11yTitle","checked","indeterminate","disabled","onChange","s","concat","table","body","column","property","scope","undefined","index","primaryValue","isSelected","primary"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef, Fragment, useContext } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { Cell } from './Cell';\nimport { ExpanderCell } from './ExpanderCell';\nimport { StyledDataTableBody, StyledDataTableRow } from './StyledDataTable';\nimport { CheckBox } from '../CheckBox/CheckBox';\nimport { TableCell } from '../TableCell';\nimport { datumValue } from './buildState';\nexport var GroupedBody = /*#__PURE__*/forwardRef(function (_ref, ref) {\n  var background = _ref.background,\n      border = _ref.border,\n      columns = _ref.columns,\n      groupBy = _ref.groupBy,\n      groups = _ref.groups,\n      groupState = _ref.groupState,\n      pad = _ref.pad,\n      primaryProperty = _ref.primaryProperty,\n      onSelect = _ref.onSelect,\n      onToggle = _ref.onToggle,\n      selected = _ref.selected,\n      size = _ref.size,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"background\", \"border\", \"columns\", \"groupBy\", \"groups\", \"groupState\", \"pad\", \"primaryProperty\", \"onSelect\", \"onToggle\", \"selected\", \"size\"]);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n  return /*#__PURE__*/React.createElement(StyledDataTableBody, _extends({\n    ref: ref,\n    size: size\n  }, rest), groups.map(function (group) {\n    var expanded = groupState[group.key].expanded;\n    var memberCount = group.data.length;\n    var primaryKeys = [];\n\n    if (group.data.length) {\n      group.data.forEach(function (datum) {\n        primaryKeys.push(datum[primaryProperty]);\n      });\n    }\n\n    var groupSelected = primaryKeys && selected ? primaryKeys.filter(function (val) {\n      return selected.includes(val);\n    }) : [];\n    var isGroupSelected = groupSelected.length > 0 && group.data.length > 0 && groupSelected.length === group.data.length;\n    var content = memberCount > 1 ? /*#__PURE__*/React.createElement(StyledDataTableRow, {\n      key: group.key,\n      size: size\n    }, /*#__PURE__*/React.createElement(ExpanderCell, {\n      context: expanded ? 'groupHeader' : 'body',\n      expanded: expanded,\n      onToggle: onToggle(group.key)\n    }), (selected || onSelect) && /*#__PURE__*/React.createElement(TableCell, {\n      background: background,\n      plain: \"noPad\",\n      size: \"auto\"\n    }, /*#__PURE__*/React.createElement(CheckBox, {\n      a11yTitle: (isGroupSelected ? 'unselect' : 'select') + \" \" + group.key,\n      checked: isGroupSelected,\n      indeterminate: groupSelected.length > 0 && groupSelected.length < group.data.length,\n      disabled: !onSelect,\n      onChange: function onChange() {\n        if (isGroupSelected) {\n          onSelect(selected.filter(function (s) {\n            return !groupSelected.includes(s);\n          }));\n        } else {\n          onSelect([].concat(selected, primaryKeys));\n        }\n      },\n      pad: pad || theme.table.body.pad\n    })), columns.map(function (column) {\n      return /*#__PURE__*/React.createElement(Cell, {\n        key: column.property,\n        background: background,\n        border: border,\n        context: expanded ? 'groupHeader' : 'body',\n        column: column,\n        datum: group.datum,\n        pad: pad,\n        scope: column.property === groupBy ? 'row' : undefined\n      });\n    })) : null;\n\n    if (memberCount === 1 || expanded) {\n      content = /*#__PURE__*/React.createElement(Fragment, {\n        key: group.key\n      }, content, group.data.map(function (datum, index) {\n        var primaryValue = primaryProperty ? datumValue(datum, primaryProperty) : undefined;\n        var isSelected = selected && selected.includes(primaryValue);\n        var context = memberCount > 1 && index === memberCount - 1 ? 'groupEnd' : 'body';\n        return /*#__PURE__*/React.createElement(StyledDataTableRow, {\n          key: datum[primaryProperty],\n          size: size\n        }, /*#__PURE__*/React.createElement(ExpanderCell, {\n          context: context\n        }), (selected || onSelect) && /*#__PURE__*/React.createElement(TableCell, {\n          background: background,\n          plain: \"noPad\",\n          size: \"auto\"\n        }, /*#__PURE__*/React.createElement(CheckBox, {\n          a11yTitle: (isSelected ? 'unselect' : 'select') + \" \" + primaryValue,\n          checked: isSelected,\n          disabled: !onSelect,\n          onChange: function onChange() {\n            if (isSelected) {\n              onSelect(selected.filter(function (s) {\n                return s !== primaryValue;\n              }));\n            } else onSelect([].concat(selected, [primaryValue]));\n          },\n          pad: pad || theme.table.body.pad\n        })), columns.map(function (column) {\n          return /*#__PURE__*/React.createElement(Cell, {\n            key: column.property,\n            background: background,\n            border: border,\n            context: context,\n            column: column,\n            datum: datum,\n            pad: pad,\n            scope: column.primary ? 'row' : undefined\n          });\n        }));\n      }));\n    }\n\n    return content;\n  }));\n});"]},"metadata":{},"sourceType":"module"}